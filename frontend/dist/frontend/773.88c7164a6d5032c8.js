"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[773],{9773:(Pt,ie,h)=>{h.r(ie),h.d(ie,{WorkerModule:()=>jt});var m=h(6814),i=h(95),v=h(9009),le=h(553),e=h(9468),se=h(9862);let z=(()=>{class n{constructor(o){this.http=o,this.server=le.N.serverUrl}signup(o){return this.http.post(`${this.server}/auth/worker-signup`,o)}login(o){return this.http.post(`${this.server}/auth/worker-login`,o)}verifySignupOtp(o){return console.log(o),this.http.post(`${this.server}/auth/worker-otp`,o)}resendOtp(o){return this.http.post(`${this.server}/auth/user-resend-otp`,o)}setToken(o){return window.localStorage.setItem("worker-token",o)}getToken(){return window.localStorage.getItem("worker-token")}deleteToken(){return window.localStorage.removeItem("worker-token")}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(se.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const P=(n,s)=>{const o=(0,e.f3M)(z),r=(0,e.f3M)(v.F0);return!!o.getToken()||(r.navigate(["worker/auth/login"]),!1)};let he=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-worker-auth"]],decls:6,vars:0,consts:[[1,"min-h-screen","backdrop-blur-[3px]"],[1,"flex","items-center","p-10"],["src","./assets/DailyHire-logo.png","alt","fsd",1,"w-10","h-10"],[1,"text-white","text-4xl","font-semibold","hidden","sm:block"],[1,"flex"]],template:function(r,t){1&r&&(e.TgZ(0,"main",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h1",3),e._uU(4,"aily Hire"),e.qZA()(),e._UZ(5,"router-outlet",4),e.qZA())},dependencies:[v.lC]})}return n})();var g=h(8602);const oe=(0,g.P1)(n=>n.worker.errorMessage,n=>n),_e=(0,g.P1)(n=>n,n=>n),L=(0,g.P1)(n=>n.worker.workerData,n=>n);var _=h(8180),xe=h(5592),ae=h(5887);let T=(()=>{class n{constructor(o){this.http=o,this.server=le.N.serverUrl,this.socket=(0,ae.io)("http://localhost:3000")}getAllServices(){return this.http.get(`${this.server}/admin/service-list`)}getAllBooking(o){return this.http.get(`${this.server}/worker/bookings/${o}`)}bookingCancel(o){return this.http.put(`${this.server}/worker/cancel-booking`,{bookingId:o})}blockBooking(o,r){return this.http.put(`${this.server}/worker/block-booking`,{workerId:o,blockDate:r})}unBlockBooking(o,r){return this.http.put(`${this.server}/worker/unblock-booking`,{workerId:o,blockDate:r})}getWorkerStats(o){return this.http.get(`${this.server}/worker/worker-stats/${o}`)}loadChatMates(o){return this.http.get(`${this.server}/chat/load-chatmates/${o}`)}sendChat(o){return this.socket.emit("chat message",o),this.http.put(`${this.server}/chat/send-chat/`,{data:o})}loadChats(o,r){return this.http.get(`${this.server}/chat/load-chats/${o}/${r}`)}onNewMessage(){return new xe.y(o=>{this.socket.on("chat message",r=>{o.next(r)})})}updateProfile(o,r){return this.http.put(`${this.server}/worker/edit-worker`,{workerId:o,worker:r})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(se.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue=h(3617);const pe=function(){return{exact:!0}},ke=function(n,s){return{"border-gray-200 text-white":n,"bg-white text-black":s}};let E=(()=>{class n{constructor(o,r){this.workerAuthService=o,this.router=r,this.showDateAddReview=!1}logout(){this.workerAuthService.deleteToken(),this.router.navigateByUrl("worker/auth/login")}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(z),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],decls:48,vars:17,consts:[[1,"flex","sm:justify-between","justify-between","w-auto","px-20","py-4","sticky","top-0","bg-[#96bbbb]"],[1,"flex","items-center"],[1,"text-white","text-3xl","font-extrabold","hidden","lg:block","font-worker"],[1,"text-[#10434e]"],[1,"text-white","text-2xl","font-extrabold","md:block","lg:hidden","font-worker"],[1,"hidden","sm:flex","items-center","text-lg","lg:text-2xl","md:text-xl","text-white"],[1,"mx-3","border-b-2","border-transparent",3,"routerLinkActive","routerLinkActiveOptions"],["routerLink","/worker",1,"active:text-green-600"],[1,"mx-3","border-b-2","border-transparent",3,"routerLinkActive"],["routerLink","/worker/schedule",1,"active:text-green-600"],["routerLink","/worker/bookings",1,"active:text-green-600"],["routerLink","/worker/messages",1,"active:text-green-600"],[1,"hidden","sm:flex","items-center","px-2","md:px-4","py-1","text-lg","font-semibold","text-[#96bbbb]","rounded","bg-[#10434e]","hover:bg-[#0a2e36]","whitespace-nowrap",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","p-2"],[1,"hidden","md:block"],[1,"sm:hidden","mr-10"],["type","button",1,"w-10","h-10","flex","justify-center","items-center","text-sm","font-semibold","rounded-lg","border-2","disabled:opacity-50","disabled:pointer-events-none",3,"ngClass","click","keydown.escape"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-5","h-5"],["fill-rule","evenodd","d","M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"],[1,"p-5","w-full","font-sans","text-white","sm:hidden",3,"hidden","keydown.away"],[1,"text-2xl"],[1,"flex","items-center","px-2","md:px-4","py-1","text-lg","font-semibold","text-[#96bbbb]","rounded","bg-[#10434e]","hover:bg-[#0a2e36]","whitespace-nowrap",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"h1",2),e._uU(3,"DailyHire "),e.TgZ(4,"span",3),e._uU(5,"Worker"),e.qZA()(),e.TgZ(6,"h1",4),e._uU(7,"DH "),e.TgZ(8,"span",3),e._uU(9,"Worker"),e.qZA()()(),e.TgZ(10,"ul",5)(11,"li",6)(12,"a",7),e._uU(13,"Home"),e.qZA()(),e.TgZ(14,"li",8)(15,"a",9),e._uU(16,"Schedule"),e.qZA()(),e.TgZ(17,"li",8)(18,"a",10),e._uU(19,"My Bookings"),e.qZA()(),e.TgZ(20,"li",8)(21,"a",11),e._uU(22,"Messages"),e.qZA()()(),e.TgZ(23,"button",12),e.NdJ("click",function(){return t.logout()}),e._UZ(24,"i",13),e.TgZ(25,"span",14),e._uU(26,"Log out"),e.qZA()(),e.TgZ(27,"div",15)(28,"button",16),e.NdJ("click",function(){return t.showDateAddReview=!t.showDateAddReview})("keydown.escape",function(){return t.showDateAddReview=!1}),e.O4$(),e.TgZ(29,"svg",17),e._UZ(30,"path",18),e.qZA()()()(),e.kcU(),e.TgZ(31,"div",19),e.NdJ("keydown.away",function(){return t.showDateAddReview=!1}),e.TgZ(32,"ul",20)(33,"li",6)(34,"a",7),e._uU(35,"Home"),e.qZA()(),e.TgZ(36,"li",8)(37,"a",9),e._uU(38,"Schedule"),e.qZA()(),e.TgZ(39,"li",8)(40,"a",10),e._uU(41,"My Bookings"),e.qZA()(),e.TgZ(42,"li",8)(43,"a",11),e._uU(44,"Messages"),e.qZA()()(),e.TgZ(45,"button",21),e.NdJ("click",function(){return t.logout()}),e._UZ(46,"i",13),e._uU(47," Log out "),e.qZA()()),2&r&&(e.xp6(11),e.Q6J("routerLinkActive","border-white")("routerLinkActiveOptions",e.DdM(12,pe)),e.xp6(3),e.Q6J("routerLinkActive","border-white"),e.xp6(3),e.Q6J("routerLinkActive","border-white"),e.xp6(3),e.Q6J("routerLinkActive","border-white"),e.xp6(8),e.Q6J("ngClass",e.WLB(13,ke,0==t.showDateAddReview,1==t.showDateAddReview)),e.xp6(3),e.Q6J("hidden",!t.showDateAddReview),e.xp6(2),e.Q6J("routerLinkActive","border-white")("routerLinkActiveOptions",e.DdM(16,pe)),e.xp6(3),e.Q6J("routerLinkActive","border-white"),e.xp6(3),e.Q6J("routerLinkActive","border-white"),e.xp6(3),e.Q6J("routerLinkActive","border-white"))},dependencies:[v.rH,v.Od,m.mk]})}return n})(),ce=(()=>{class n{constructor(o){this.store=o,this.onEdit=new e.vpe}ngOnInit(){console.log("iniy"),this.store.pipe((0,g.Ys)(L)).pipe((0,_.q)(1)).subscribe(o=>this.workerDetails=o)}onEditClick(){this.onEdit.emit()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-worker-profile"]],outputs:{onEdit:"onEdit"},decls:57,vars:10,consts:[[1,""],[1,"relative","bg-[#0a2e36]","h-10/12","rounded-xl","justify-end","ml-5"],[1,"flex","rounded-t-xl","overflow-hidden"],[1,"w-full"],["src","./assets/worker-sample/ocala-plumber.webp","alt","",1,"h-52","w-full","rounded-xl"],[1,"absolute","pt-16","w-full","flex","z-10","items-center","justify-center"],[1,"bg-[#e9fdfd]","text-black","shadow-lg","rounded-xl","w-10/12","py-3","px-10","mt-20"],[1,"flex","justify-center","w-full"],[1,"text-2xl","left-1/2","font-semibold"],[1,"text-xl","font-bold","text-gray-500"],[1,"flex","justify-evenly"],[1,"border-2","border-gray-600","text-gray-700","py-2","px-3","rounded-full",3,"click"],[1,"fas","fa-edit"],["routerLink","/worker/messages",1,"border-2","border-gray-600","text-gray-700","py-2","px-3","rounded-full"],[1,"fa-solid","fa-message"],[1,"mt-20","text-white","shadow-lg","h-fit","w-full","p-2"],[1,"flex","w-full","z-0","h-fit"],[1,"relative","h-fit","w-full","rounded-md"],[1,"flex"],[1,"grid","grid-cols-1","md:grid-cols-2","text-md","text-left","md:text-center","h-fit","w-full"],[1,"py-3"],[1,"font-semibold"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"h2",9),e._uU(12),e.qZA()(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return t.onEditClick()}),e._UZ(15,"i",12),e.qZA(),e.TgZ(16,"button",13),e._UZ(17,"i",14),e.qZA()()()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"div",0)(24,"p",20)(25,"span",21),e._uU(26,"Phone:"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"p",20)(29,"span",21),e._uU(30,"E-mail:"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"p",20)(33,"span",21),e._uU(34,"Age:"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"p",20)(37,"span",21),e._uU(38,"Gender:"),e.qZA(),e._uU(39),e.qZA()(),e.TgZ(40,"div",0)(41,"p",20)(42,"span",21),e._uU(43,"Location:"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"p",20)(46,"span",21),e._uU(47,"Experience:"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"p",20)(50,"span",21),e._uU(51,"Wage(day):"),e.qZA(),e._uU(52),e.qZA(),e.TgZ(53,"p",20)(54,"span",21),e._uU(55,"Wage(hour):"),e.qZA(),e._uU(56),e.qZA()()()()()()()()()),2&r&&(e.xp6(9),e.Oqu(t.workerDetails.name),e.xp6(3),e.Oqu(t.workerDetails.work),e.xp6(15),e.Oqu(t.workerDetails.phone),e.xp6(4),e.hij(" ",t.workerDetails.email,""),e.xp6(4),e.Oqu(t.workerDetails.age),e.xp6(4),e.hij(" ",t.workerDetails.gender,""),e.xp6(5),e.hij(" ",t.workerDetails.location,""),e.xp6(4),e.hij(" ",t.workerDetails.experience,""),e.xp6(4),e.hij(" ",t.workerDetails.wageForDay,""),e.xp6(4),e.Oqu(t.workerDetails.wageForHour))},dependencies:[v.rH]})}return n})();var c=h(8803);function we(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.name),e.xp6(1),e.Oqu(o.name)}}const C=function(n,s){return{" border-red-500 ":n,"border-green-600":s}};let be=(()=>{class n{constructor(o,r,t){this.store=o,this.formBuilder=r,this.workerService=t,this.works=[],this.errorMessage="",this.onCancel=new e.vpe,this.onEdit=new e.vpe}ngOnInit(){this.store.pipe((0,g.Ys)(L)).pipe((0,_.q)(1)).subscribe(o=>{console.log(o),this.worker=o,this.form=this.formBuilder.group({name:new i.NI(this.worker.name,[i.kI.required,i.kI.pattern("^[a-z_A-Z-]{3,15}$")]),phone:new i.NI(this.worker.phone,[i.kI.required,i.kI.pattern("[6-9]\\d{9}")]),age:new i.NI(this.worker.age,[i.kI.required,i.kI.pattern("^(?:1[8-9]|[2-5][0-9])$"),i.kI.max(60)]),gender:new i.NI(this.worker.gender,[i.kI.required]),email:new i.NI(this.worker.email,[i.kI.required,i.kI.email,i.kI.pattern("[a-z0-9._%+-]+@[a-z.-]+.[a-z]{2,4}$")]),password:new i.NI(null,[i.kI.required,i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]),confpassword:new i.NI(null,[i.kI.required,i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]),work:new i.NI(this.worker.work,[i.kI.required]),experience:new i.NI(this.worker.experience,[i.kI.required,i.kI.pattern("^[0-9]{1,45}$"),i.kI.max(45)]),wageForHour:new i.NI(this.worker.wageForHour,[i.kI.required,i.kI.pattern("^[0-9]{1,5}?$")]),wageForDay:new i.NI(this.worker.wageForDay,[i.kI.required,i.kI.pattern("^[0-9]{1,5}?$")]),location:new i.NI(this.worker.location,[i.kI.required,i.kI.pattern("^[a-z_-]{3,20}$")])})}),this.workerService.getAllServices().pipe((0,_.q)(1)).subscribe(o=>this.works=o)}onSubmit(){const o={name:this.form.value.name,email:this.form.value.email,phone:this.form.value.phone,password:this.form.value.password,age:this.form.value.age,gender:this.form.value.gender,work:this.form.value.work,experience:this.form.value.experience,wageForHour:this.form.value.wageForHour,wageForDay:this.form.value.wageForDay,location:this.form.value.location};if(null!=o.password&&this.form.value.password!=this.form.value.confpassword)this.errorMessage="Password not match";else{o.password=this.worker.password,console.log(o);const r=this.worker._id;r&&this.store.dispatch((0,c.DQ)({workerId:r,worker:o})),this.store.pipe((0,g.Ys)(_e)).pipe((0,_.q)(1)).subscribe(t=>console.log(t))}}onCancelEdit(){this.onCancel.emit()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(g.yh),e.Y36(i.qu),e.Y36(T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-profile"]],outputs:{onCancel:"onCancel",onEdit:"onEdit"},decls:82,vars:39,consts:[[1,"px-10","h-fit","w-full"],[1,"px-10","py-3","bg-white","rounded-xl",3,"formGroup"],[1,"space-y-7"],[1,"border-b","border-gray-900/10"],[1,"flex","justify-between"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"mt-1","text-sm","leading-6","text-gray-600"],["type","button",1,"text-sm","mx-5","font-semibold","leading-6","text-gray-900",3,"click"],["type","submit",1,"rounded-md","bg-[#0a2e36]","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-[#104a57]","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],[1,"mt-3","grid","grid-cols-1","gap-x-6","gap-y-3","sm:grid-cols-6"],[1,"sm:col-span-3"],["for","first-name",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["type","text","name","first-name","id","first-name","autocomplete","given-name","formControlName","name",1,"block","w-full","rounded-md","border-2","py-2","px-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","country",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","country","name","country","autocomplete","country-name","formControlName","work",1,"block","w-full","rounded-md","border-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:max-w-xs","sm:text-sm","sm:leading-6"],[3,"value",4,"ngFor","ngForOf"],["for","email",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","email","name","email","type","email","autocomplete","email","formControlName","email",1,"block","w-full","px-2","rounded-md","border-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],["id","email","name","email","type","email","autocomplete","email","formControlName","phone",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],["id","email","name","email","type","email","autocomplete","email","formControlName","location",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"flex","items-center","w-full"],[1,"flex","items-center","gap-x-2","px-5"],["value","female","name","push-notifications","type","radio","formControlName","gender",1,"h-4","w-fit","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","push-everything",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"flex","items-center","gap-x-3"],["value","male","name","push-notifications","type","radio","formControlName","gender",1,"h-4","w-fit","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","push-email",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"sm:col-span-2","sm:col-start-1"],["for","city",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["type","text","name","city","id","city","autocomplete","address-level2","formControlName","age",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"sm:col-span-2"],["for","region",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["type","text","name","region","id","region","autocomplete","address-level1","formControlName","wageForDay",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],["for","postal-code",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["type","text","name","postal-code","id","postal-code","autocomplete","postal-code","formControlName","wageForHour",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"col-span-3","pb-1"],["for","street-address",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["type","text","name","street-address","id","street-address","autocomplete","street-address","formControlName","password",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"col-span-3"],["type","text","name","street-address","id","street-address","autocomplete","street-address","formControlName","confpassword",1,"block","w-full","rounded-md","border-2","px-2","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"flex","justify-center","w-full"],[1,"text-sm","text-center","text-red-600","font-semibold"],[3,"value"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h2",5),e._uU(7,"Update Profile"),e.qZA(),e.TgZ(8,"p",6),e._uU(9,"This information will be displayed publicly so be careful what you share."),e.qZA()(),e.TgZ(10,"div")(11,"button",7),e.NdJ("click",function(){return t.onCancelEdit()}),e._uU(12,"Cancel"),e.qZA(),e.TgZ(13,"button",8),e.NdJ("click",function(){return t.onSubmit()}),e._uU(14,"Save"),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",10)(17,"label",11),e._uU(18,"Name"),e.qZA(),e.TgZ(19,"div",12),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",10)(22,"label",14),e._uU(23,"Work"),e.qZA(),e.TgZ(24,"div",12)(25,"select",15),e.YNc(26,we,2,2,"option",16),e.qZA()()(),e.TgZ(27,"div",10)(28,"label",17),e._uU(29,"Email address"),e.qZA(),e.TgZ(30,"div",12),e._UZ(31,"input",18),e.qZA()(),e.TgZ(32,"div",10)(33,"label",17),e._uU(34,"Phone Number"),e.qZA(),e.TgZ(35,"div",12),e._UZ(36,"input",19),e.qZA()(),e.TgZ(37,"div",10)(38,"label",17),e._uU(39,"Location"),e.qZA(),e.TgZ(40,"div",12),e._UZ(41,"input",20),e.qZA()(),e.TgZ(42,"fieldset")(43,"p",6),e._uU(44,"Gender"),e.qZA(),e.TgZ(45,"div",21)(46,"div",22),e._UZ(47,"input",23),e.TgZ(48,"label",24),e._uU(49,"Female"),e.qZA()(),e.TgZ(50,"div",25),e._UZ(51,"input",26),e.TgZ(52,"label",27),e._uU(53,"Male"),e.qZA()()()(),e.TgZ(54,"div",28)(55,"label",29),e._uU(56,"Age"),e.qZA(),e.TgZ(57,"div",12),e._UZ(58,"input",30),e.qZA()(),e.TgZ(59,"div",31)(60,"label",32),e._uU(61,"Wage for Day"),e.qZA(),e.TgZ(62,"div",12),e._UZ(63,"input",33),e.qZA()(),e.TgZ(64,"div",31)(65,"label",34),e._uU(66,"Wage for Hour"),e.qZA(),e.TgZ(67,"div",12),e._UZ(68,"input",35),e.qZA()(),e.TgZ(69,"div",36)(70,"label",37),e._uU(71,"New Password"),e.qZA(),e.TgZ(72,"div",12),e._UZ(73,"input",38),e.qZA()(),e.TgZ(74,"div",39)(75,"label",37),e._uU(76,"Confirm Password"),e.qZA(),e.TgZ(77,"div",12),e._UZ(78,"input",40),e.qZA()()(),e.TgZ(79,"div",41)(80,"p",42),e._uU(81),e.qZA()()()()()()),2&r){let l,a,d,u,p,x,k,w,b;e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(19),e.Q6J("ngClass",e.WLB(12,C,(null==(l=t.form.get("name"))?null:l.invalid)&&(null==(l=t.form.get("name"))?null:l.touched),!(null!=(l=t.form.get("name"))&&l.invalid)&&(null==(l=t.form.get("name"))?null:l.touched))),e.xp6(6),e.Q6J("ngForOf",t.works),e.xp6(5),e.Q6J("ngClass",e.WLB(15,C,(null==(a=t.form.get("email"))?null:a.invalid)&&(null==(a=t.form.get("email"))?null:a.touched),!(null!=(a=t.form.get("email"))&&a.invalid)&&(null==(a=t.form.get("email"))?null:a.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(18,C,(null==(d=t.form.get("phone"))?null:d.invalid)&&(null==(d=t.form.get("phone"))?null:d.touched),!(null!=(d=t.form.get("phone"))&&d.invalid)&&(null==(d=t.form.get("phone"))?null:d.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(21,C,(null==(u=t.form.get("location"))?null:u.invalid)&&(null==(u=t.form.get("location"))?null:u.touched),!(null!=(u=t.form.get("location"))&&u.invalid)&&(null==(u=t.form.get("location"))?null:u.touched))),e.xp6(17),e.Q6J("ngClass",e.WLB(24,C,(null==(p=t.form.get("age"))?null:p.invalid)&&(null==(p=t.form.get("age"))?null:p.touched),!(null!=(p=t.form.get("age"))&&p.invalid)&&(null==(p=t.form.get("age"))?null:p.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(27,C,(null==(x=t.form.get("wageForDay"))?null:x.invalid)&&(null==(x=t.form.get("wageForDay"))?null:x.touched),!(null!=(x=t.form.get("wageForDay"))&&x.invalid)&&(null==(x=t.form.get("wageForDay"))?null:x.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(30,C,(null==(k=t.form.get("wageForHour"))?null:k.invalid)&&(null==(k=t.form.get("wageForHour"))?null:k.touched),!(null!=(k=t.form.get("wageForHour"))&&k.invalid)&&(null==(k=t.form.get("wageForHour"))?null:k.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(33,C,(null==(w=t.form.get("password"))?null:w.invalid)&&(null==(w=t.form.get("password"))?null:w.touched),!(null!=(w=t.form.get("password"))&&w.invalid)&&(null==(w=t.form.get("password"))?null:w.touched))),e.xp6(5),e.Q6J("ngClass",e.WLB(36,C,(null==(b=t.form.get("confpassword"))?null:b.invalid)&&(null==(b=t.form.get("confpassword"))?null:b.touched),!(null!=(b=t.form.get("confpassword"))&&b.invalid)&&(null==(b=t.form.get("confpassword"))?null:b.touched))),e.xp6(3),e.Oqu(t.errorMessage)}},dependencies:[m.mk,m.sg,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i._,i.JJ,i.JL,i.sg,i.u]})}return n})();function ve(n,s){if(1&n&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h5",9),e._uU(4,"Total Income"),e.qZA(),e.TgZ(5,"div",10)(6,"h1",11),e._uU(7),e.qZA(),e.TgZ(8,"span",12),e._uU(9),e.qZA()()(),e.TgZ(10,"div",13)(11,"h5",14),e._uU(12,"Monthly Income"),e.qZA(),e.TgZ(13,"div",10)(14,"h1",11),e._uU(15),e.qZA(),e.TgZ(16,"span",12),e._uU(17),e.qZA()()(),e.TgZ(18,"div",15)(19,"h5",14),e._uU(20,"Completed Bookings"),e.qZA(),e.TgZ(21,"div",16)(22,"h1",11),e._UZ(23,"i",17),e._uU(24),e.qZA()()(),e.TgZ(25,"div",15)(26,"h5",18),e._uU(27,"Active Customers"),e.qZA(),e.TgZ(28,"div",19)(29,"h1",11),e._UZ(30,"i",20),e._uU(31),e.qZA()()()(),e.TgZ(32,"div",21)(33,"div",22)(34,"div",23)(35,"div")(36,"h5",24),e._uU(37,"Bookings on this Month"),e.qZA(),e.TgZ(38,"div",25),e._UZ(39,"ag-charts-angular",26),e.qZA()()()(),e.TgZ(40,"div")(41,"div",27)(42,"div")(43,"h5",28),e._uU(44,"Bookings based on PaymentMethod "),e.qZA(),e.TgZ(45,"div",25),e._UZ(46,"ag-charts-angular",26),e.qZA()()()()()()),2&n){const o=e.oxw();e.xp6(7),e.hij(" \u20b9 ",o.totalRevenue,""),e.xp6(2),e.hij("Earned from ",o.totalBookingCount," Bookings"),e.xp6(6),e.hij(" \u20b9 ",o.monthlyRevenue,""),e.xp6(2),e.hij("Earned from ",o.monthlyBookingCount," Bookings"),e.xp6(7),e.Oqu(o.completedBookings),e.xp6(7),e.hij(" ",o.bookedUsers," "),e.xp6(8),e.Q6J("options",o.options),e.xp6(7),e.Q6J("options",o.optionsTotal)}}function ye(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div",29)(1,"app-edit-profile",30),e.NdJ("onCancel",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onCancelProfile())})("onEdit",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.afterEditProfile())}),e.qZA()()}}let Ze=(()=>{class n{constructor(o,r){this.workerService=o,this.store=r,this.totalRevenue=0,this.totalBookingCount=0,this.monthlyRevenue=0,this.monthlyBookingCount=0,this.completedBookings=0,this.bookedUsers=0,this.options={},this.optionsTotal={},this.tab="dashboard"}ngOnInit(){this.store.select(L).pipe((0,_.q)(1)).subscribe(o=>{this.worker=o,this.worker._id&&this.workerService.getWorkerStats(this.worker._id).pipe((0,_.q)(1)).subscribe(r=>{({totalRevenue:this.totalRevenue,totalBookingCount:this.totalBookingCount,monthlyRevenue:this.monthlyRevenue,monthlyBookingCount:this.monthlyBookingCount,completedBookings:this.completedBookings,bookedUsers:this.bookedUsers,bookingsByMonth:this.bookingsByMonth,bookingsByPayment:this.bookingsByPayment}=r),this.options={theme:"ag-sheets-dark",background:{visible:!1},data:this.bookingsByMonth,title:{text:"Total Bookings Composition"},series:[{type:"area",xKey:"month",yKey:"bookings",yName:"Bookings"}]},this.optionsTotal={theme:"ag-sheets-dark",background:{visible:!1},data:this.bookingsByPayment,series:[{type:"pie",angleKey:"amount",legendItemKey:"paymentType"}]}})})}onEditProfile(){this.tab="edit"}onCancelProfile(){this.tab="dashboard"}afterEditProfile(){console.log("hfjk"),this.ngOnInit()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:2,consts:[[1,"grid","grid-cols-2","md:grid-cols-3"],[1,"h-96","sticky","top-20"],[3,"onEdit"],[1,"w-full","md:col-span-2"],["class","px-6 2xl:container",4,"ngIf"],["class","h-full",4,"ngIf"],[1,"px-6","2xl:container"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-3"],[1,"h-fit","md:h-24","lg:h-32","py-2","px-3","rounded-xl","bg-[rgb(233,253,253)]"],[1,"text-sm","lg:text-lg","text-gray-700"],[1,"lg:mt-2"],[1,"text-4xl","text-gray-800"],[1,"text-sm","text-gray-700"],[1,"h-fit","md:h-24","lg:h-32","py-2","px-4","rounded-xl","bg-[#e9fdfd]"],[1,"text-md","text-gray-700"],[1,"h-fit","md:h-24","lg:h-32","py-4","px-4","rounded-xl","bg-[#e9fdfd]"],[1,"mt-3"],[1,"fa-regular","fa-calendar-check","mx-3"],[1,"text-lg","text-gray-700"],[1,"my-3"],["aria-hidden","true",1,"fa","fa-users"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-2","lg:grid-cols-3","mt-3"],[1,"md:col-span-2"],[1,"h-fit","py-4","px-6","space-y-6","rounded-xl","border","border-gray-500","bg-[#618985]"],[1,"text-3xl","font-bold","text-gray-300","text-center"],[1,"h-72"],[3,"options"],[1,"h-fit","space-y-6","rounded-xl","border","border-gray-500","bg-[#618985]"],[1,"text-2xl","font-bold","text-gray-300","text-center"],[1,"h-full"],[3,"onCancel","onEdit"]],template:function(r,t){1&r&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"app-worker-profile",2),e.NdJ("onEdit",function(){return t.onEditProfile()}),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,ve,47,8,"div",4),e.YNc(6,ye,2,0,"div",5),e.qZA()()),2&r&&(e.xp6(5),e.Q6J("ngIf","dashboard"==t.tab),e.xp6(1),e.Q6J("ngIf","edit"==t.tab))},dependencies:[m.O5,ue.q,E,ce,be]})}return n})();function Te(n,s){1&n&&(e.TgZ(0,"p",16)(1,"span",17),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"email must be valid(eg: xxx@gmail.com)"),e.qZA())}function Ce(n,s){1&n&&(e.TgZ(0,"p",16)(1,"span",17),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"must be 8 characters(eg: e5$h23Dq)"),e.qZA())}const de=function(n,s){return{" border-red-500":n,"border-green-600":s}},ge=function(n,s){return{"text-red-600":n,"text-green-600 ":s}};let Ae=(()=>{class n{constructor(o,r){this.formBuilder=o,this.store=r,this.errorMessage=" "}ngOnInit(){this.form=this.formBuilder.group({email:new i.NI(null,[i.kI.required,i.kI.email,i.kI.pattern("[a-z0-9._%+-]+@[a-z.-]+.[a-z]{2,4}$")]),password:new i.NI(null,[i.kI.required,i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")])})}onFormSubmit(){this.store.dispatch((0,c.xI)({credentials:{email:this.form.value.email,password:this.form.value.password}})),this.store.pipe((0,g.Ys)(oe)).pipe((0,_.q)(1)).subscribe(r=>{this.errorMessage=r,console.log("login",this.errorMessage)})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(i.qu),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login-box"]],decls:28,vars:21,consts:[[1,"flex","py-32","sm:py-4","sm:w-1/2","md:w-1/3","lg:w-1/4","text-gray-800","sm:text-black","m-auto","overflow-hidden","sm:bg-[#ffffffa9]","sm:shadow-lg","h-2/5","rounded-xl"],[1,"relative","w-full","px-5","lg:px-10","py-10","lg:h-96","h-fit"],[1,"mb-1","text-3xl","text-center"],[1,"text-sm"],["routerLink","/worker/auth/signup",1,"font-semibold","text-yellow-950"],[1,"",3,"formGroup","ngSubmit"],[1,"grid","gap-6","mt-7"],[1,"relative"],["type","text","id","floating_outlined_1","formControlName","email","placeholder"," ",1,"block","px-2.5","pb-2.5","pt-4","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-500","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined_1",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-4","scale-75","top-0","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["class","mt-2 text-xs text-red-600 ",4,"ngIf"],["type","password","id","floating_outlined_2","formControlName","password","placeholder"," ",1,"block","px-2.5","pb-2.5","pt-4","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-500","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined_2",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-4","scale-75","top-0","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],[1,"flex"],[1,"text-red-600","m-auto","text-sm"],[1,"w-full","py-3","text-center","text-white","bg-[#232121]","rounded-md",3,"disabled"],[1,"mt-2","text-xs","text-red-600"],[1,"font-medium"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Worker Login"),e.qZA(),e.TgZ(4,"p",3),e._uU(5,"If you want to Register on Daily Hire? "),e.TgZ(6,"a",4),e._uU(7,"Click Here"),e.qZA()(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return t.onFormSubmit()}),e.TgZ(9,"div",6)(10,"div")(11,"div",7),e._UZ(12,"input",8),e.TgZ(13,"label",9),e._uU(14,"e-mail"),e.qZA()(),e.YNc(15,Te,4,0,"p",10),e.qZA(),e.TgZ(16,"div")(17,"div",7),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Password"),e.qZA()(),e.YNc(21,Ce,4,0,"p",10),e.TgZ(22,"div",13)(23,"p",14),e._uU(24),e.qZA()()(),e.TgZ(25,"div")(26,"button",15),e._uU(27,"Log in"),e.qZA()()()()()()),2&r){let l,a,d,u,p,x;e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("ngClass",e.WLB(9,de,(null==(l=t.form.get("email"))?null:l.invalid)&&(null==(l=t.form.get("email"))?null:l.touched),!(null!=(l=t.form.get("email"))&&l.invalid||null!=(l=t.form.get("email"))&&l.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(12,ge,(null==(a=t.form.get("email"))?null:a.invalid)&&(null==(a=t.form.get("email"))?null:a.touched),!(null!=(a=t.form.get("email"))&&a.invalid||null!=(a=t.form.get("email"))&&a.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(d=t.form.get("email"))&&d.valid||null!=(d=t.form.get("email"))&&d.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(15,de,(null==(u=t.form.get("password"))?null:u.invalid)&&(null==(u=t.form.get("password"))?null:u.touched),!(null!=(u=t.form.get("password"))&&u.invalid||null!=(u=t.form.get("password"))&&u.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(18,ge,(null==(p=t.form.get("password"))?null:p.invalid)&&(null==(p=t.form.get("password"))?null:p.touched),!(null!=(p=t.form.get("password"))&&p.invalid||null!=(p=t.form.get("password"))&&p.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(x=t.form.get("password"))&&x.valid||null!=(x=t.form.get("password"))&&x.untouched)),e.xp6(3),e.Oqu(t.errorMessage),e.xp6(2),e.Q6J("disabled",!t.form.valid)}},dependencies:[v.rH,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]})}return n})();function qe(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"Name must be valid(a-z,A-Z)"),e.qZA())}function Ue(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"Number must be valid(0-9)"),e.qZA())}function Be(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"Age must be a valid (above 17 & below 60)"),e.qZA())}function De(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"email must be valid(eg: xxx@gmail.com)"),e.qZA())}function Ne(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"emust be 8 characters(eg: e5$h23Dq)"),e.qZA())}function Ie(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"must be 8 characters(eg: e5$h23Dq)"),e.qZA())}function Se(n,s){if(1&n&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&n){const o=s.$implicit;e.s9C("value",o.name),e.xp6(1),e.Oqu(o.name)}}function Je(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"Years must be valid(0-9 and less than 45)"),e.qZA())}function Fe(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"wage must be valid(0-9)"),e.qZA())}function Oe(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"wage must be valid(0-9)"),e.qZA())}function $e(n,s){1&n&&(e.TgZ(0,"p",47)(1,"span",48),e._uU(2,"Oh, snapp! "),e.qZA(),e._uU(3,"Location must be valid (a-z,A-Z)"),e.qZA())}const y=function(n,s){return{" border-red-500":n,"border-green-600":s}},Z=function(n,s){return{"text-red-600":n,"text-green-600 ":s}};let Me=(()=>{class n{constructor(o,r,t){this.formBuilder=o,this.workerService=r,this.store=t,this.works=[],this.errorMessage=" "}ngOnInit(){this.workerService.getAllServices().pipe((0,_.q)(1)).subscribe(o=>this.works=o),this.form=this.formBuilder.group({name:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z_A-Z-]{3,15}$")]),phone:new i.NI(null,[i.kI.required,i.kI.pattern("[6-9]\\d{9}")]),age:new i.NI(null,[i.kI.required,i.kI.pattern("^(?:1[8-9]|[2-5][0-9])$"),i.kI.max(60)]),gender:new i.NI("select",[i.kI.required]),email:new i.NI(null,[i.kI.required,i.kI.email,i.kI.pattern("[a-z0-9._%+-]+@[a-z.-]+.[a-z]{2,4}$")]),password:new i.NI(null,[i.kI.required,i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]),confpassword:new i.NI(null,[i.kI.required,i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]),work:new i.NI("work",[i.kI.required,i.kI.maxLength(30)]),experience:new i.NI(null,[i.kI.required,i.kI.pattern("^[0-9]{1,45}$"),i.kI.max(45)]),wageForHour:new i.NI(null,[i.kI.required,i.kI.pattern("^[0-9]{1,5}?$")]),wageForDay:new i.NI(null,[i.kI.required,i.kI.pattern("^[0-9]{1,5}?$")]),location:new i.NI(null,[i.kI.required,i.kI.pattern("^[a-z_-]{3,20}$")])})}onFormSubmit(){const o={name:this.form.value.name,email:this.form.value.email,phone:this.form.value.phone,password:this.form.value.password,age:this.form.value.age,gender:this.form.value.gender,work:this.form.value.work,experience:this.form.value.experience,wageForHour:this.form.value.wageForHour,wageForDay:this.form.value.wageForDay,location:this.form.value.location};this.form.value.confpassword==o.password?(this.store.dispatch((0,c.IT)({worker:o})),this.store.pipe((0,g.Ys)(oe)).pipe((0,_.q)(1)).subscribe(t=>{this.errorMessage=t})):this.errorMessage="password not match"}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(i.qu),e.Y36(T),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-signup-box"]],decls:109,vars:94,consts:[[1,"w-10/12","sm:w-7/12","m-auto","overflow-hidden","bg-[#ffffffc1]","shadow-lg","rounded-xl"],[1,"text-center","mt-3"],[1,"mb-1","text-3xl"],[1,"text-sm"],["routerLink","/worker/auth/login",1,"font-semibold","text-yellow-950"],[3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","sm:grid-cols-2","mt-3","divide-x","divide-slate-400/50"],[1,"relative","w-full","px-10","py-10","h-fit"],[1,"grid","gap-5"],[1,"text-xl"],[1,"relative"],["type","text","id","floating_outlined1","formControlName","name","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined1",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["class","mt-2 text-xs text-red-600 ",4,"ngIf"],["type","text","id","floating_outlined2","formControlName","phone","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined2",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","text","id","floating_outlined3","formControlName","age","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined3",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["id","underline_select1","formControlName","gender",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer"],["value","select"],["value","male"],["value","female"],["value","other"],["type","text","id","floating_outlined4","formControlName","email","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined4",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","password","id","floating_outlined5","formControlName","password","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined5",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","password","id","floating_outlined6","formControlName","confpassword","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined6",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["id","underline_select2","formControlName","work","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer"],["value","work"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","floating_outlined7","formControlName","experience","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined7",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","text","id","floating_outlined8","formControlName","wageForHour","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined8",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","text","id","floating_outlined9","formControlName","wageForDay","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined9",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],["type","text","id","floating_outlined10","formControlName","location","placeholder"," ",1,"block","pl-3","pb-2","pt-2","w-full","text-sm","text-gray-900","bg-transparent","rounded-lg","border","border-gray-400","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngClass"],["for","floating_outlined10",1,"absolute","text-sm","rounded-2xl","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0","peer-focus:scale-75","peer-focus:-translate-y-4","left-1",3,"ngClass"],[1,"mt-4"],["type","checkbox","placeholder","Confirm Password",1,"border","border-gray-400"],["href","#",1,"font-semibold","text-yellow-950"],[1,"flex"],[1,"text-red-600","m-auto","text-sm"],[1,"w-full","my-5","text-center"],[1,"w-80","py-3","text-center","text-white","bg-[#232121]","rounded-md",3,"disabled"],[1,"mt-2","text-xs","text-red-600"],[1,"font-medium"],[3,"value"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Worker Signup"),e.qZA(),e.TgZ(4,"p",3),e._uU(5,"Already Registered on Daily Hire? "),e.TgZ(6,"a",4),e._uU(7,"Click Here"),e.qZA()()(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return t.onFormSubmit()}),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"h1",9),e._uU(13,"Personal Details"),e.qZA(),e.TgZ(14,"div")(15,"div",10),e._UZ(16,"input",11),e.TgZ(17,"label",12),e._uU(18,"Name"),e.qZA()(),e.YNc(19,qe,4,0,"p",13),e.qZA(),e.TgZ(20,"div")(21,"div",10),e._UZ(22,"input",14),e.TgZ(23,"label",15),e._uU(24,"Phone number"),e.qZA()(),e.YNc(25,Ue,4,0,"p",13),e.qZA(),e.TgZ(26,"div")(27,"div",10),e._UZ(28,"input",16),e.TgZ(29,"label",17),e._uU(30,"Age"),e.qZA()(),e.YNc(31,Be,4,0,"p",13),e.qZA(),e.TgZ(32,"div")(33,"div",10)(34,"select",18)(35,"option",19),e._uU(36,"Gender (select)"),e.qZA(),e.TgZ(37,"option",20),e._uU(38,"Male"),e.qZA(),e.TgZ(39,"option",21),e._uU(40,"Female"),e.qZA(),e.TgZ(41,"option",22),e._uU(42,"Other"),e.qZA()()()(),e.TgZ(43,"div")(44,"div",10),e._UZ(45,"input",23),e.TgZ(46,"label",24),e._uU(47,"e-mail"),e.qZA()(),e.YNc(48,De,4,0,"p",13),e.qZA(),e.TgZ(49,"div")(50,"div",10),e._UZ(51,"input",25),e.TgZ(52,"label",26),e._uU(53,"Password"),e.qZA()(),e.YNc(54,Ne,4,0,"p",13),e.qZA(),e.TgZ(55,"div")(56,"div",10),e._UZ(57,"input",27),e.TgZ(58,"label",28),e._uU(59,"Confirm Password"),e.qZA()(),e.YNc(60,Ie,4,0,"p",13),e.qZA()()(),e.TgZ(61,"div",7)(62,"div",8)(63,"h1",9),e._uU(64,"Work Details"),e.qZA(),e.TgZ(65,"div")(66,"select",29)(67,"option",30),e._uU(68,"PROFESSION (Select)"),e.qZA(),e.YNc(69,Se,2,2,"option",31),e.qZA()(),e.TgZ(70,"div")(71,"div",10),e._UZ(72,"input",32),e.TgZ(73,"label",33),e._uU(74,"Years of Experince"),e.qZA()(),e.YNc(75,Je,4,0,"p",13),e.qZA(),e.TgZ(76,"div")(77,"div",10),e._UZ(78,"input",34),e.TgZ(79,"label",35),e._uU(80,"Expected wage for an hour"),e.qZA()(),e.YNc(81,Fe,4,0,"p",13),e.qZA(),e.TgZ(82,"div")(83,"div",10),e._UZ(84,"input",36),e.TgZ(85,"label",37),e._uU(86,"Expected wage for a Day"),e.qZA()(),e.YNc(87,Oe,4,0,"p",13),e.qZA(),e.TgZ(88,"div")(89,"div",10),e._UZ(90,"input",38),e.TgZ(91,"label",39),e._uU(92,"Perfered Location"),e.qZA()(),e.YNc(93,$e,4,0,"p",13),e.qZA()(),e.TgZ(94,"div",40),e._UZ(95,"input",41),e.TgZ(96,"span",3),e._uU(97," I accept the "),e.TgZ(98,"a",42),e._uU(99,"Terms of Use"),e.qZA(),e._uU(100," & "),e.TgZ(101,"a",42),e._uU(102,"Privacy Policy"),e.qZA()()()()(),e.TgZ(103,"div",43)(104,"p",44),e._uU(105),e.qZA()(),e.TgZ(106,"div",45)(107,"button",46),e._uU(108,"Register Now"),e.qZA()()()()),2&r){let l,a,d,u,p,x,k,w,b,q,U,G,B,D,K,N,I,R,S,J,X,F,O,V,$,M,ee,Q,W,te;e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngClass",e.WLB(34,y,(null==(l=t.form.get("name"))?null:l.invalid)&&(null==(l=t.form.get("name"))?null:l.touched),!(null!=(l=t.form.get("name"))&&l.invalid||null!=(l=t.form.get("name"))&&l.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(37,Z,(null==(a=t.form.get("name"))?null:a.invalid)&&(null==(a=t.form.get("name"))?null:a.touched),!(null!=(a=t.form.get("name"))&&a.invalid||null!=(a=t.form.get("name"))&&a.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(d=t.form.get("name"))&&d.valid||null!=(d=t.form.get("name"))&&d.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(40,y,(null==(u=t.form.get("phone"))?null:u.invalid)&&(null==(u=t.form.get("phone"))?null:u.touched),!(null!=(u=t.form.get("phone"))&&u.invalid||null!=(u=t.form.get("phone"))&&u.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(43,Z,(null==(p=t.form.get("phone"))?null:p.invalid)&&(null==(p=t.form.get("phone"))?null:p.touched),!(null!=(p=t.form.get("phone"))&&p.invalid||null!=(p=t.form.get("phone"))&&p.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(x=t.form.get("phone"))&&x.valid||null!=(x=t.form.get("phone"))&&x.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(46,y,(null==(k=t.form.get("age"))?null:k.invalid)&&(null==(k=t.form.get("age"))?null:k.touched),!(null!=(k=t.form.get("age"))&&k.invalid||null!=(k=t.form.get("age"))&&k.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(49,Z,(null==(w=t.form.get("age"))?null:w.invalid)&&(null==(w=t.form.get("age"))?null:w.touched),!(null!=(w=t.form.get("age"))&&w.invalid||null!=(w=t.form.get("age"))&&w.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(b=t.form.get("age"))&&b.valid||null!=(b=t.form.get("age"))&&b.untouched)),e.xp6(14),e.Q6J("ngClass",e.WLB(52,y,(null==(q=t.form.get("email"))?null:q.invalid)&&(null==(q=t.form.get("email"))?null:q.touched),!(null!=(q=t.form.get("email"))&&q.invalid||null!=(q=t.form.get("email"))&&q.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(55,Z,(null==(U=t.form.get("email"))?null:U.invalid)&&(null==(U=t.form.get("email"))?null:U.touched),!(null!=(U=t.form.get("email"))&&U.invalid||null!=(U=t.form.get("email"))&&U.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(G=t.form.get("email"))&&G.valid||null!=(G=t.form.get("email"))&&G.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(58,y,(null==(B=t.form.get("password"))?null:B.invalid)&&(null==(B=t.form.get("password"))?null:B.touched),!(null!=(B=t.form.get("password"))&&B.invalid||null!=(B=t.form.get("password"))&&B.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(61,Z,(null==(D=t.form.get("password"))?null:D.invalid)&&(null==(D=t.form.get("password"))?null:D.touched),!(null!=(D=t.form.get("password"))&&D.invalid||null!=(D=t.form.get("password"))&&D.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(K=t.form.get("password"))&&K.valid||null!=(K=t.form.get("password"))&&K.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(64,y,(null==(N=t.form.get("confpassword"))?null:N.invalid)&&(null==(N=t.form.get("confpassword"))?null:N.touched),!(null!=(N=t.form.get("confpassword"))&&N.invalid||null!=(N=t.form.get("confpassword"))&&N.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(67,Z,(null==(I=t.form.get("confpassword"))?null:I.invalid)&&(null==(I=t.form.get("confpassword"))?null:I.touched),!(null!=(I=t.form.get("confpassword"))&&I.invalid||null!=(I=t.form.get("confpassword"))&&I.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(R=t.form.get("confpassword"))&&R.valid||null!=(R=t.form.get("confpassword"))&&R.untouched)),e.xp6(9),e.Q6J("ngForOf",t.works),e.xp6(3),e.Q6J("ngClass",e.WLB(70,y,(null==(S=t.form.get("experience"))?null:S.invalid)&&(null==(S=t.form.get("experience"))?null:S.touched),!(null!=(S=t.form.get("experience"))&&S.invalid||null!=(S=t.form.get("experience"))&&S.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(73,Z,(null==(J=t.form.get("experience"))?null:J.invalid)&&(null==(J=t.form.get("experience"))?null:J.touched),!(null!=(J=t.form.get("experience"))&&J.invalid||null!=(J=t.form.get("experience"))&&J.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(X=t.form.get("experience"))&&X.valid||null!=(X=t.form.get("experience"))&&X.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(76,y,(null==(F=t.form.get("wageForHour"))?null:F.invalid)&&(null==(F=t.form.get("wageForHour"))?null:F.touched),!(null!=(F=t.form.get("wageForHour"))&&F.invalid||null!=(F=t.form.get("wageForHour"))&&F.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(79,Z,(null==(O=t.form.get("wageForHour"))?null:O.invalid)&&(null==(O=t.form.get("wageForHour"))?null:O.touched),!(null!=(O=t.form.get("wageForHour"))&&O.invalid||null!=(O=t.form.get("wageForHour"))&&O.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(V=t.form.get("wageForHour"))&&V.valid||null!=(V=t.form.get("wageForHour"))&&V.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(82,y,(null==($=t.form.get("wageForDay"))?null:$.invalid)&&(null==($=t.form.get("wageForDay"))?null:$.touched),!(null!=($=t.form.get("wageForDay"))&&$.invalid||null!=($=t.form.get("wageForDay"))&&$.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(85,Z,(null==(M=t.form.get("wageForDay"))?null:M.invalid)&&(null==(M=t.form.get("wageForDay"))?null:M.touched),!(null!=(M=t.form.get("wageForDay"))&&M.invalid||null!=(M=t.form.get("wageForDay"))&&M.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(ee=t.form.get("wageForDay"))&&ee.valid||null!=(ee=t.form.get("wageForDay"))&&ee.untouched)),e.xp6(3),e.Q6J("ngClass",e.WLB(88,y,(null==(Q=t.form.get("location"))?null:Q.invalid)&&(null==(Q=t.form.get("location"))?null:Q.touched),!(null!=(Q=t.form.get("location"))&&Q.invalid||null!=(Q=t.form.get("location"))&&Q.touched))),e.xp6(1),e.Q6J("ngClass",e.WLB(91,Z,(null==(W=t.form.get("location"))?null:W.invalid)&&(null==(W=t.form.get("location"))?null:W.touched),!(null!=(W=t.form.get("location"))&&W.invalid||null!=(W=t.form.get("location"))&&W.touched))),e.xp6(2),e.Q6J("ngIf",!(null!=(te=t.form.get("location"))&&te.valid||null!=(te=t.form.get("location"))&&te.untouched)),e.xp6(12),e.Oqu(t.errorMessage),e.xp6(2),e.Q6J("disabled",!t.form.valid)}},dependencies:[v.rH,m.mk,m.sg,m.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u]})}return n})();var me=h(6642);const Qe=function(){return{length:6}},We=function(n){return{"pointer-events-none":n}},Le=function(n){return{hidden:n}};let He=(()=>{class n{constructor(o,r,t){this.workerAuthService=o,this.store=r,this.router=t,this.email="",this.errorMessage="",this.seconds=60,this.showResendButton=!0}ngOnInit(){this.startTimer(),this.store.pipe((0,g.Ys)(L)).pipe((0,_.q)(1)).subscribe(o=>{this.email=o.email,this.phoneNumber=o.phone})}startTimer(){this.timer=setInterval(()=>{this.seconds--,this.seconds<=0&&clearInterval(this.timer),0==this.seconds&&(this.showResendButton=!1)},1e3)}onOtpChange(o){6==o.length&&(this.store.dispatch((0,c.Vi)({worker:{email:this.email,phoneNumber:this.phoneNumber,code:o}})),this.store.pipe((0,g.Ys)(oe)).pipe((0,_.q)(1)).subscribe(t=>{this.errorMessage=t}))}resendOtp(){this.workerAuthService.resendOtp(this.phoneNumber),console.log("resend")}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(z),e.Y36(g.yh),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-otp-box"]],decls:24,vars:11,consts:[[1,"flex","w-4/12","sm:w-5/12","m-auto","overflow-hidden","bg-white","shadow-lg","h-2/5","rounded-xl"],[1,"container","mx-auto"],[1,"max-w-sm","mx-auto","md:max-w-lg"],[1,"w-full"],[1,"bg-white","h-64","py-3","rounded","text-center"],[1,"text-2xl","font-bold"],[1,"flex","flex-col","mt-4"],[1,"font-bold"],["id","otp",1,"flex","flex-row","justify-center","text-center","px-0","lg:px-2","mt-5"],[3,"config","onInputChange"],[1,"flex"],[1,"text-red-600","m-auto","text-sm"],[1,"flex","justify-center","text-center","mt-5"],[1,"flex","items-center","text-blue-700","hover:text-blue-900","cursor-pointer","disabled:text-black",3,"ngClass","click"],[1,"bx","bx-caret-right","ml-1"],[3,"ngClass"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"OTP Verification"),e.qZA(),e.TgZ(7,"div",6)(8,"span"),e._uU(9,"Enter the OTP you received at"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.qZA()(),e.TgZ(12,"div",8)(13,"ng-otp-input",9),e.NdJ("onInputChange",function(a){return t.onOtpChange(a)}),e.qZA()(),e.TgZ(14,"div",10)(15,"p",11),e._uU(16),e.qZA()(),e.TgZ(17,"div",12)(18,"a",13),e.NdJ("click",function(){return t.resendOtp()}),e.TgZ(19,"span",7),e._uU(20,"Resend OTP"),e.qZA(),e._UZ(21,"i",14),e.TgZ(22,"span",15),e._uU(23),e.qZA()()()()()()()()),2&r&&(e.xp6(11),e.Oqu(t.phoneNumber),e.xp6(2),e.Q6J("config",e.DdM(6,Qe)),e.xp6(3),e.Oqu(t.errorMessage),e.xp6(2),e.Q6J("ngClass",e.VKq(7,We,t.showResendButton)),e.xp6(4),e.Q6J("ngClass",e.VKq(9,Le,!t.showResendButton)),e.xp6(1),e.hij("in ",t.seconds," seconds"))},dependencies:[m.mk,me.df]})}return n})(),Ye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(r,t){1&r&&e._UZ(0,"app-navbar")(1,"app-worker-profile")},dependencies:[E,ce]})}return n})(),H=(()=>{class n{transform(o){return new Date(o).toDateString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=e.Yjl({name:"dateString",type:n,pure:!0})}return n})();const je=function(n){return{"before:absolute before:w-full before:transition-all before:duration-700 before:hover:w-full before:-left-full before:hover:left-0 before:rounded-full before:bg-lime-600 before:-z-10 before:aspect-square before:hover:scale-150 overflow-hidden before:hover:duration-700":n}};function Pe(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"tr",24)(1,"td",25)(2,"span",26)(3,"p",27),e._uU(4),e.qZA()()(),e.TgZ(5,"td",28)(6,"p",29),e._uU(7),e.qZA()(),e.TgZ(8,"td",28)(9,"p",29),e._uU(10),e.qZA()(),e.TgZ(11,"td",28)(12,"p",29),e._uU(13),e.ALo(14,"dateString"),e.qZA()(),e.TgZ(15,"td",28)(16,"p",29),e._uU(17),e.qZA()(),e.TgZ(18,"td",28)(19,"button",30),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw(2);return e.KtG(a.onCancelSelected(l._id))}),e._uU(20," Cancel "),e.qZA()()()}if(2&n){const o=s.$implicit;e.xp6(4),e.hij("",o.user.name," "),e.xp6(3),e.Oqu(o.user.phone),e.xp6(3),e.Oqu(o.user.email),e.xp6(3),e.Oqu(e.lcZ(14,7,o.bookingTime)),e.xp6(4),e.Oqu(o.status),e.xp6(2),e.Q6J("disabled","Confirmed"!=o.status)("ngClass",e.VKq(9,je,"Confirmed"==o.status))}}const Ee=function(n){return{"bg-[#1b5231]":n}};function ze(n,s){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"li")(2,"a",36),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw(3);return e.KtG(a.onPageClick(l))}),e._uU(3),e.qZA()(),e.BQk()}if(2&n){const o=s.$implicit,r=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(2,Ee,o===r.currentPage)),e.xp6(1),e.hij(" ",o," ")}}function Ge(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div",31)(1,"nav",32)(2,"ul",33)(3,"li")(4,"a",34),e.NdJ("click",function(t){e.CHM(o);const l=e.oxw(2);return e.KtG(l.onPrevious(t))}),e._uU(5," Previous "),e.qZA()(),e.YNc(6,ze,4,4,"ng-container",35),e.TgZ(7,"li")(8,"a",34),e.NdJ("click",function(t){e.CHM(o);const l=e.oxw(2);return e.KtG(l.onNext(t))}),e._uU(9," Next"),e.qZA()()()()()}if(2&n){const o=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",o.pages)}}function Ke(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"div",13)(4,"table",14)(5,"thead")(6,"tr",15)(7,"th",16),e._uU(8,"Name "),e.O4$(),e.TgZ(9,"svg",17),e._UZ(10,"path",18),e.qZA()(),e.kcU(),e.TgZ(11,"th",19),e._uU(12,"Mobile"),e.qZA(),e.TgZ(13,"th",20),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"th",20),e._uU(16,"Date"),e.qZA(),e.TgZ(17,"th",20),e._uU(18,"Status"),e.qZA(),e.TgZ(19,"th",20),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody",21),e.YNc(22,Pe,21,11,"tr",22),e.ALo(23,"slice"),e.qZA()()()()(),e.YNc(24,Ge,10,1,"div",23),e.qZA()),2&n){const o=e.oxw();e.xp6(22),e.Q6J("ngForOf",e.Dn7(23,2,o.bookings,6*o.currentPage-6,6*o.currentPage)),e.xp6(2),e.Q6J("ngIf",o.bookings.length>6)}}function Re(n,s){1&n&&(e.TgZ(0,"div",37)(1,"h1",38),e._uU(2,"No Data Available"),e.qZA()())}let Xe=(()=>{class n{constructor(){this.onSearchTextChanged=new e.vpe,this.onCancel=new e.vpe,this.searchText="",this.currentPage=1,this.pages=[]}ngOnInit(){}ngOnChanges(o){o.count&&this.countPages(o.count.currentValue)}countPages(o){this.pages=[];for(let r=1;r<=Math.ceil(o/6);r++)this.pages.push(r)}onPrevious(o){o.preventDefault(),this.currentPage>1&&this.currentPage--}onNext(o){o.preventDefault(),this.currentPage<this.pages.length&&this.currentPage++}onPageClick(o){this.currentPage=o}onSearchText(){this.onSearchTextChanged.emit(this.searchText),this.currentPage=1}onCancelSelected(o){this.onCancel.emit(o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-worker-appoinments"]],inputs:{bookings:"bookings",count:"count"},outputs:{onSearchTextChanged:"onSearchTextChanged",onCancel:"onCancel"},features:[e.TTD],decls:14,vars:3,consts:[[1,"mt-5"],[1,"ml-10"],[1,"relative","flex","w-full","max-w-xl","items-center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"absolute","left-2","block","h-5","w-5","text-white"],["cx","11","cy","11","r","8",1,""],["x1","21","y1","21","x2","16.65","y2","16.65",1,""],[1,"relative"],["type","text","id","floating_outlined1","name","search","type","name","name","search","placeholder"," ",1,"block","h-12","w-96","text-black","font-semibold","text-md","border-b-gray-100","bg-transparent","py-3","pl-12","outline-none","focus:border-b-2","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngModel","ngModelChange","input","keyup.backspace"],["for","floating_outlined1",1,"absolute","text-lg","pl-10","text-white","rounded-2xl","font-semibold","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0.5","peer-focus:scale-75","peer-focus:-translate-y-4","left-1"],[4,"ngIf","ngIfElse"],["noDate",""],[1,"container","mx-auto","mt-3","px-4","pb-5"],[1,"container"],["id","app",1,"rounded-lg","shadow-lg",2,"overflow-x","auto"],[1,"w-full"],[1,"text-left","bg-[#0d2818]","uppercase"],[1,"flex","items-center","first-letter:text-sm","text-gray-400","px-6","py-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","3",1,"left","ml-2","h-3","w-3"],["stroke-linecap","round","stroke-linejoin","round","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"hidden","md:table-cell","px-2","py-4","text-sm","text-gray-400"],[1,"hidden","md:table-cell","px-2","py-3","text-sm","text-gray-400"],[1,"bg-[#0d2818a4]"],["class","accordion border-0 border-black border-grey-light hover:bg-[#ffffff11]",4,"ngFor","ngForOf"],["class","flex justify-center",4,"ngIf"],[1,"accordion","border-0","border-black","border-grey-light","hover:bg-[#ffffff11]"],[1,"inline-flex","items-center"],[1,"py-3","px-6","w-40"],[1,"text-gray-400","text-sm"],[1,"hidden","md:table-cell"],[1,"text-sm","text-gray-300","font-medium"],[1,"relative","px-5","py-1","rounded-md","bg-transparent","text-gray-300","isolation-auto","z-10","border-2","border-lime-600",3,"disabled","ngClass","click"],[1,"flex","justify-center"],["aria-label","Page navigation example",1,"my-"],[1,"inline-flex","-space-x-px","text-base","font-semibold","h-11"],[1,"flex","items-center","border-2","border-transparent","justify-center","px-5","h-11","ms-0","leading-tight","text-white","hover:bg-[#0000004b]","hover:border-gray-300","rounded-lg",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","mx-2","px-4","h-11","leading-tight","text-white","rounded-xl","border-2","hover:border-gray-300","border-transparent",3,"ngClass","click"],[1,"w-full","flex","justify-center","mt-32"],[1,"text-[#143601]","text-5xl","font-extrabold"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"form",2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4)(6,"line",5),e.qZA(),e.kcU(),e.TgZ(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(a){return t.searchText=a})("input",function(){return t.onSearchText()})("keyup.backspace",function(){return t.onSearchText()}),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"Search by Name"),e.qZA()()()()(),e.YNc(11,Ke,25,6,"div",9),e.YNc(12,Re,3,0,"ng-template",null,10,e.W1O),e.qZA()),2&r){const l=e.MAs(13);e.xp6(8),e.Q6J("ngModel",t.searchText),e.xp6(3),e.Q6J("ngIf",t.bookings.length>0)("ngIfElse",l)}},dependencies:[m.mk,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.F,m.OU,H]})}return n})();function Ve(n,s){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",25)(2,"span",26)(3,"p",27),e._uU(4),e.qZA()()(),e.TgZ(5,"td",28)(6,"p",29),e._uU(7),e.qZA()(),e.TgZ(8,"td",28)(9,"p",29),e._uU(10),e.qZA()(),e.TgZ(11,"td",28)(12,"p",29),e._uU(13),e.ALo(14,"dateString"),e.qZA()(),e.TgZ(15,"td",28)(16,"p",29),e._uU(17),e.qZA()()()),2&n){const o=s.$implicit;e.xp6(4),e.hij("",o.user.name," "),e.xp6(3),e.Oqu(o.user.phone),e.xp6(3),e.Oqu(o.user.email),e.xp6(3),e.Oqu(e.lcZ(14,5,o.bookingTime)),e.xp6(4),e.Oqu(o.status)}}const et=function(n){return{"bg-[#1b5231]":n}};function tt(n,s){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"li")(2,"a",35),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw(3);return e.KtG(a.onPageClick(l))}),e._uU(3),e.qZA()(),e.BQk()}if(2&n){const o=s.$implicit,r=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(2,et,o===r.currentPage)),e.xp6(1),e.hij(" ",o," ")}}function ot(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div",30)(1,"nav",31)(2,"ul",32)(3,"li")(4,"a",33),e.NdJ("click",function(t){e.CHM(o);const l=e.oxw(2);return e.KtG(l.onPrevious(t))}),e._uU(5," Previous "),e.qZA()(),e.YNc(6,tt,4,4,"ng-container",34),e.TgZ(7,"li")(8,"a",33),e.NdJ("click",function(t){e.CHM(o);const l=e.oxw(2);return e.KtG(l.onNext(t))}),e._uU(9," Next"),e.qZA()()()()()}if(2&n){const o=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",o.pages)}}function nt(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"div",13)(4,"table",14)(5,"thead")(6,"tr",15)(7,"th",16),e._uU(8,"Name "),e.O4$(),e.TgZ(9,"svg",17),e._UZ(10,"path",18),e.qZA()(),e.kcU(),e.TgZ(11,"th",19),e._uU(12,"Mobile"),e.qZA(),e.TgZ(13,"th",20),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"th",20),e._uU(16,"Date"),e.qZA(),e.TgZ(17,"th",20),e._uU(18,"Status"),e.qZA()()(),e.TgZ(19,"tbody",21),e.YNc(20,Ve,18,7,"tr",22),e.ALo(21,"slice"),e.qZA()()()()(),e.YNc(22,ot,10,1,"div",23),e.qZA()),2&n){const o=e.oxw();e.xp6(20),e.Q6J("ngForOf",e.Dn7(21,2,o.bookings,6*o.currentPage-6,6*o.currentPage)),e.xp6(2),e.Q6J("ngIf",o.bookings.length>7)}}function rt(n,s){1&n&&(e.TgZ(0,"div",36)(1,"h1",37),e._uU(2,"No Data Available"),e.qZA()())}let it=(()=>{class n{constructor(){this.onSearchTextChanged=new e.vpe,this.searchText="",this.currentPage=1,this.pages=[]}ngOnInit(){}ngOnChanges(o){o.count&&this.countPages(this.count)}countPages(o){this.pages=[];for(let r=1;r<=Math.ceil(o/6);r++)this.pages.push(r)}onPrevious(o){o.preventDefault(),this.currentPage>1&&this.currentPage--}onNext(o){o.preventDefault(),this.currentPage<this.pages.length&&this.currentPage++}onPageClick(o){this.currentPage=o}onSearchText(){this.onSearchTextChanged.emit(this.searchText),this.currentPage=1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-worker-appointment-history"]],inputs:{bookings:"bookings",count:"count"},outputs:{onSearchTextChanged:"onSearchTextChanged"},features:[e.TTD],decls:14,vars:3,consts:[[1,"mt-5"],[1,"ml-10"],[1,"relative","flex","w-full","max-w-xl","items-center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"absolute","left-2","block","h-5","w-5","text-white"],["cx","11","cy","11","r","8",1,""],["x1","21","y1","21","x2","16.65","y2","16.65",1,""],[1,"relative"],["type","text","id","floating_outlined1","name","search","type","name","name","search","placeholder"," ",1,"block","h-12","w-96","text-black","font-semibold","text-md","border-b-gray-100","bg-transparent","py-3","pl-12","outline-none","focus:border-b-2","appearance-none","focus:outline-none","focus:ring-0","peer",3,"ngModel","ngModelChange","input","keyup.backspace"],["for","floating_outlined1",1,"absolute","text-lg","pl-10","text-white","rounded-2xl","font-semibold","duration-300","transform","-translate-y-6","scale-75","top-2","z-10","origin-[0]","bg-transparent","px-2","peer-focus:px-2","peer-placeholder-shown:scale-100","peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2","peer-focus:top-0.5","peer-focus:scale-75","peer-focus:-translate-y-4","left-1"],[4,"ngIf","ngIfElse"],["noDate",""],[1,"container","mx-auto","mt-3","px-4","pb-5"],[1,"container"],["id","app",1,"rounded-lg","shadow-lg",2,"overflow-x","auto"],[1,"w-full"],[1,"text-left","bg-[#0d2818]","uppercase"],[1,"flex","items-center","first-letter:text-sm","text-gray-400","px-6","py-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","3",1,"left","ml-2","h-3","w-3"],["stroke-linecap","round","stroke-linejoin","round","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"hidden","md:table-cell","px-2","py-4","text-sm","text-gray-400"],[1,"hidden","md:table-cell","px-2","py-3","text-sm","text-gray-400"],[1,"bg-[#0d2818a4]"],["class","accordion border-0 border-black border-grey-light hover:bg-[#ffffff3a]",4,"ngFor","ngForOf"],["class","flex justify-center",4,"ngIf"],[1,"accordion","border-0","border-black","border-grey-light","hover:bg-[#ffffff3a]"],[1,"inline-flex","items-center"],[1,"py-3","px-6","w-40"],[1,"text-gray-400","text-sm"],[1,"hidden","md:table-cell"],[1,"text-sm","text-gray-300","font-medium"],[1,"flex","justify-center"],["aria-label","Page navigation example",1,"my-"],[1,"inline-flex","-space-x-px","text-base","font-semibold","h-11"],[1,"flex","items-center","border-2","border-transparent","justify-center","px-5","h-11","ms-0","leading-tight","text-white","hover:bg-[#0000004b]","hover:border-gray-300","rounded-lg",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","mx-2","px-4","h-11","leading-tight","text-white","rounded-xl","border-2","hover:border-gray-300","border-transparent",3,"ngClass","click"],[1,"w-full","flex","justify-center","mt-32"],[1,"text-[#143601]","text-5xl","font-extrabold"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"form",2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4)(6,"line",5),e.qZA(),e.kcU(),e.TgZ(7,"div",6)(8,"input",7),e.NdJ("ngModelChange",function(a){return t.searchText=a})("input",function(){return t.onSearchText()})("keyup.backspace",function(){return t.onSearchText()}),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"Search by Name"),e.qZA()()()()(),e.YNc(11,nt,23,6,"div",9),e.YNc(12,rt,3,0,"ng-template",null,10,e.W1O),e.qZA()),2&r){const l=e.MAs(13);e.xp6(8),e.Q6J("ngModel",t.searchText),e.xp6(3),e.Q6J("ngIf",t.bookings.length>0)("ngIfElse",l)}},dependencies:[m.mk,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.F,m.OU,H]})}return n})();function lt(n,s){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"app-worker-appoinments",4),e.NdJ("onSearchTextChanged",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onNewBookingSeachFilter(t))})("onCancel",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onCancelled(t))}),e.qZA(),e.BQk()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("bookings",o.newBookings$)("count",o.newBookings$.length)}}function st(n,s){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"app-worker-appointment-history",5),e.NdJ("onSearchTextChanged",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onOldBookingSeachFilter(t))}),e.qZA(),e.BQk()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("bookings",o.oldBookings$)("count",o.oldBookings$.length)}}const at=function(n){return{"text-white bg-[#fff3]  font-normal":n,"p-2 py-5 mr-5 px-5  bg-[#0003] rounded-md text-gray-300 font-semibold text-[30px] leading-7  ":!0}},ut=function(n){return{"text-white bg-[#fff3] font-normal":n,"p-2 mr-5 px-5 w-full  bg-[#0003]    rounded-md text-gray-300 font-semibold text-[30px] leading-7  ":!0}};let pt=(()=>{class n{constructor(o,r){this.store=o,this.workerService=r,this.tab="new",this.bookings$=[],this.newBookings$=[],this.oldBookings$=[],this.workerId=""}ngOnInit(){this.store.pipe((0,g.Ys)(L)).pipe((0,_.q)(1)).subscribe(o=>{this.worker=o,this.workerId=o._id,this.workerService.getAllBooking(this.workerId).pipe((0,_.q)(1)).subscribe(r=>{this.bookings$=r,this.onNewBookings(),this.onOldBookings()})})}setTab(o){this.tab=o}onOldBookings(){this.oldBookings$=this.bookings$.filter(o=>{const r=new Date(o.bookingTime),t=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),r<t})}onNewBookings(){this.newBookings$=this.bookings$.filter(o=>{const r=new Date(o.bookingTime),t=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),r>=t})}onNewBookingSeachFilter(o){""==o?this.onNewBookings():this.newBookings$=this.newBookings$.filter(r=>{const t=o.toLowerCase();return r.user.name.toLowerCase().includes(t)})}onOldBookingSeachFilter(o){""==o?this.onOldBookings():this.oldBookings$=this.oldBookings$.filter(r=>{const t=o.toLowerCase();return r.user.name.toLowerCase().includes(t)})}onCancelled(o){this.workerService.bookingCancel(o).pipe((0,_.q)(1)).subscribe(r=>{this.worker._id&&this.workerService.getAllBooking(this.worker._id).pipe((0,_.q)(1)).subscribe(t=>{this.bookings$=t,this.onNewBookings(),this.onOldBookings()})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(g.yh),e.Y36(T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-bookings"]],decls:9,vars:8,consts:[[1,"mx-10"],[1,"grid","grid-cols-2"],[3,"ngClass","click"],[4,"ngIf"],[3,"bookings","count","onSearchTextChanged","onCancel"],[3,"bookings","count","onSearchTextChanged"]],template:function(r,t){1&r&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return t.setTab("new")}),e._uU(4," New Appointments "),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.setTab("old")}),e._uU(6," Appointment History "),e.qZA()(),e.YNc(7,lt,2,2,"ng-container",3),e.YNc(8,st,2,2,"ng-container",3),e.qZA()),2&r&&(e.xp6(3),e.Q6J("ngClass",e.VKq(4,at,"new"===t.tab)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,ut,"old"===t.tab)),e.xp6(2),e.Q6J("ngIf","new"===t.tab),e.xp6(1),e.Q6J("ngIf","old"===t.tab))},dependencies:[m.mk,m.O5,E,Xe,it]})}return n})();var ct=h(4949);function dt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=s.$implicit;e.xp6(3),e.hij(" ",o," ")}}function gt(n,s){1&n&&(e.ynx(0),e._UZ(1,"div",16),e.BQk())}function mt(n,s){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"div",18),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.getDateValue(l))}),e._uU(3),e.qZA()(),e.BQk()}if(2&n){const o=s.$implicit,r=e.oxw();e.xp6(2),e.Q6J("date",o)("year",r.year)("month",r.month)("booking",r.bookings)("blockedDates",r.blockedDates)("selectedDate",r.selectedDate),e.xp6(1),e.hij(" ",o," ")}}let ft=(()=>{class n{constructor(o){this.workerService=o,this.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],this.DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.no_of_days=[],this.blankdays=[],this.onBlockBooking=new e.vpe,this.onUnBlockBooking=new e.vpe,this.onShowBooking=new e.vpe,this.trackByIdentity=(r,t)=>t}ngOnInit(){this.initDate(),this.getNoOfDays()}initDate(){let o=new Date;this.month=o.getMonth(),this.year=o.getFullYear(),this.selectedDate=new Date(this.year,this.month,o.getDate())}isBooked(o){const r=new Date(this.year,this.month,o);return r.setHours(0,0,0,0),this.bookings.some(l=>{const a=new Date(l.bookingTime);return a.setHours(0,0,0,0),a.getTime()===r.getTime()})}getDateValue(o){this.selectedDate=new Date(this.year,this.month,o),this.isBooked(o)?this.onShowBooking.emit(this.selectedDate):this.onBlockBooking.emit(this.selectedDate)}getNoOfDays(){const o=new Date(this.year,this.month+1,0).getDate();let r=new Date(this.year,this.month).getDay(),t=[];for(var l=1;l<=r;l++)t.push(l);let a=[];for(l=1;l<=o;l++)a.push(l);this.blankdays=t,this.no_of_days=a}changeMonth(o){this.month+=o,-1===this.month?(this.month=11,this.year--):12===this.month&&(this.month=0,this.year++),this.getNoOfDays()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-worker-calender"]],inputs:{bookings:"bookings",blockedDates:"blockedDates"},outputs:{onBlockBooking:"onBlockBooking",onUnBlockBooking:"onUnBlockBooking",onShowBooking:"onShowBooking"},decls:21,vars:6,consts:[[1,"py-5","md:pl-10"],[1,"flex","justify-center","md:justify-end","pt-5"],[1,"bg-gray-100","rounded-lg","shadow","py-4","px-7","w-11/12"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-4xl","font-bold","text-gray-800"],[1,"ml-1","text-2xl","text-gray-600","font-normal"],["type","button",1,"transition","ease-in-out","inline-flex","cursor-pointer","hover:bg-gray-200","p-1","rounded-full",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-500","inline-flex"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","flex-wrap","mb-7","-mx-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","m-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"px-1",2,"width","14.26%"],[1,"text-gray-800","font-medium","text-center","text-lg"],[1,"text-center","border-none","p-1","border-transparent","text-sm",2,"width","14.28%"],[1,"px-3","py-1",2,"width","14.28%"],["appDate","",1,"cursor-pointer","text-center","text-black","text-xl","rounded-xl","leading-loose","transition","ease-in-out","duration-100",3,"date","year","month","booking","blockedDates","selectedDate","click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"span",4),e._uU(6),e.qZA(),e.TgZ(7,"span",5),e._uU(8),e.qZA()(),e.TgZ(9,"div")(10,"button",6),e.NdJ("click",function(){return t.changeMonth(-1)}),e.O4$(),e.TgZ(11,"svg",7),e._UZ(12,"path",8),e.qZA()(),e.kcU(),e.TgZ(13,"button",6),e.NdJ("click",function(){return t.changeMonth(1)}),e.O4$(),e.TgZ(14,"svg",7),e._UZ(15,"path",9),e.qZA()()()(),e.kcU(),e.TgZ(16,"div",10),e.YNc(17,dt,4,1,"ng-container",11),e.qZA(),e.TgZ(18,"div",12),e.YNc(19,gt,2,0,"ng-container",11),e.YNc(20,mt,4,7,"ng-container",13),e.qZA()()()()),2&r&&(e.xp6(6),e.Oqu(t.MONTH_NAMES[t.month]),e.xp6(2),e.Oqu(t.year),e.xp6(9),e.Q6J("ngForOf",t.DAYS),e.xp6(2),e.Q6J("ngForOf",t.blankdays),e.xp6(1),e.Q6J("ngForOf",t.no_of_days)("ngForTrackBy",t.trackByIdentity))},dependencies:[m.sg,ct.v]})}return n})();function ht(n,s){if(1&n&&(e.TgZ(0,"li",6)(1,"div",7)(2,"div",8),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"div",10)(5,"p",11),e._uU(6),e.qZA(),e.TgZ(7,"p",12),e._uU(8),e.qZA()(),e.TgZ(9,"div",13),e._uU(10),e.ALo(11,"dateString"),e.qZA()()()),2&n){const o=s.$implicit;e.xp6(6),e.hij(" ",o.user.name," "),e.xp6(2),e.hij(" ",o.user.email," "),e.xp6(2),e.hij(" ",e.lcZ(11,3,o.bookingTime)," ")}}function _t(n,s){if(1&n&&(e.TgZ(0,"div")(1,"p",3),e._uU(2,"Nearest Bookings"),e.qZA(),e.TgZ(3,"ul",4),e.YNc(4,ht,12,5,"li",5),e.ALo(5,"slice"),e.qZA()()),2&n){const o=e.oxw();e.xp6(4),e.Q6J("ngForOf",e.Dn7(5,1,o.bookings,0,3))}}function xt(n,s){1&n&&(e.TgZ(0,"p",14),e._uU(1,"No New Bookings..."),e.qZA())}const kt=function(){return[]};let wt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-current-booking-box"]],inputs:{bookings:"bookings"},decls:4,vars:3,consts:[[1,"rounded-xl","border","bg-white","px-6","pt-2","text-gray-900","mx-10"],[4,"ngIf","ngIfElse"],["noBooking",""],[1,"text-lg","font-bold","pb-3"],[1,"divide-y","divide-gray-200"],["class","pb-3 sm:pb-4",4,"ngFor","ngForOf"],[1,"pb-3","sm:pb-4"],[1,"flex","items-center","space-x-4","rtl:space-x-reverse"],[1,"flex-shrink-0"],["src","./assets/images/woker.jpg","alt","Neil image",1,"w-8","h-8","rounded-full"],[1,"flex","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","mx-10","text-gray-500","truncate"],[1,"inline-flex","pl-20","items-center","text-base","font-semibold","text-gray-900"],[1,"text-lg","font-semibold","py-10"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,_t,6,5,"div",1),e.YNc(2,xt,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&r){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.bookings!=e.DdM(2,kt))("ngIfElse",l)}},dependencies:[m.sg,m.O5,m.OU,H]})}return n})();function bt(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onCancelSelected())}),e._uU(1," Cancel "),e.qZA()}}let vt=(()=>{class n{constructor(){this.onCancel=new e.vpe}onCancelSelected(){this.booking._id&&this.onCancel.emit(this.booking._id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-selected-day"]],inputs:{booking:"booking"},outputs:{onCancel:"onCancel"},decls:20,vars:7,consts:[[1,"rounded-xl","border","bg-white","px-6","pt-2","text-gray-900","mt-3","mx-10"],[1,"flex","justify-between"],[1,"text-lg","font-bold","pb-3"],[1,"max-w-md","divide-y","divide-gray-200"],[1,"pb-3","sm:pb-4"],[1,"flex","items-center","space-x-4","rtl:space-x-reverse"],[1,"flex-shrink-0"],["src","./assets/images/woker.jpg","alt","Neil image",1,"w-8","h-8","rounded-full"],[1,"flex","justify-evenly"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"pl-10"],[1,"inline-flex","items-center","text-base","font-semibold","text-gray-900","pl-20"],["class","cursor-pointer transition-all bg-red-500 text-white px-6 py-2 rounded-lg hover:brightness-110 active:brightness-90",3,"click",4,"ngIf"],[1,"cursor-pointer","transition-all","bg-red-500","text-white","px-6","py-2","rounded-lg","hover:brightness-110","active:brightness-90",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.ALo(4,"dateString"),e.qZA()(),e.TgZ(5,"ul",3)(6,"li",4)(7,"div",5)(8,"div",6),e._UZ(9,"img",7),e.qZA(),e.TgZ(10,"div",8)(11,"div")(12,"p",9),e._uU(13),e.qZA(),e.TgZ(14,"p",10),e._uU(15),e.qZA()(),e.TgZ(16,"p",11),e._uU(17),e.qZA()(),e.TgZ(18,"div",12),e.YNc(19,bt,2,0,"button",13),e.qZA()()()()()),2&r&&(e.xp6(3),e.hij("Booking on ",e.lcZ(4,5,t.booking.bookingTime),""),e.xp6(10),e.hij(" ",t.booking.user.name," "),e.xp6(2),e.hij(" ",t.booking.user.email," "),e.xp6(2),e.Oqu(t.booking.status),e.xp6(2),e.Q6J("ngIf","Confirmed"==t.booking.status))},dependencies:[m.O5,H]})}return n})(),yt=(()=>{class n{constructor(){this.onBlock=new e.vpe}onBlockSelected(){this.onBlock.emit(this.blockDay)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-block-day"]],inputs:{blockDay:"blockDay"},outputs:{onBlock:"onBlock"},decls:14,vars:3,consts:[[1,"first-letter:","rounded-xl","border","bg-white","px-6","py-2","text-gray-900","mt-3","mx-10"],[1,"text-lg","font-bold"],[1,"max-w-md","divide-y","divide-gray-200"],[1,"pb-2","sm:pb-4"],[1,"flex","items-center","justify-evenly","space-x-4","rtl:space-x-reverse","py-1"],[1,"flex","text-center","items-center"],[1,"fa-solid","fa-ban","text-4xl","text-red-500","pr-5"],[1,"text-lg"],[1,"inline-flex","items-center","text-base","font-semibold","text-gray-900"],[1,"cursor-pointer","transition-all","bg-red-500","text-white","px-6","py-2","rounded-lg","hover:brightness-110","active:brightness-90",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"dateString"),e.qZA(),e.TgZ(4,"ul",2)(5,"li",3)(6,"div",4)(7,"div",5),e._UZ(8,"i",6),e.TgZ(9,"p",7),e._uU(10,"Are You Sure to close booking ?"),e.qZA()(),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return t.onBlockSelected()}),e._uU(13," Block "),e.qZA()()()()()()),2&r&&(e.xp6(2),e.hij("Block Booking on - ",e.lcZ(3,1,t.blockDay),""))},dependencies:[H]})}return n})(),Zt=(()=>{class n{constructor(){this.onUnBlock=new e.vpe}onBlockSelected(){console.log(this.blockDay),this.onUnBlock.emit(this.blockDay)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-unblock-day"]],inputs:{blockDay:"blockDay"},outputs:{onUnBlock:"onUnBlock"},decls:14,vars:3,consts:[[1,"first-letter:","rounded-xl","border","bg-white","px-6","py-2","text-gray-900","mt-3","mx-10"],[1,"text-lg","font-bold"],[1,"max-w-md","divide-y","divide-gray-200"],[1,"py-2","sm:pb-4"],[1,"flex","items-center","justify-evenly","space-x-4","rtl:space-x-reverse"],[1,"flex","text-center","items-center"],[1,"fa-solid","fa-address-card","text-4xl","text-green-500","pr-5"],[1,"text-xl"],[1,"inline-flex","items-center","text-base","font-semibold","text-gray-900"],[1,"cursor-pointer","transition-all","bg-green-500","text-white","px-6","py-2","rounded-lg","hover:brightness-110","active:brightness-90",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"dateString"),e.qZA(),e.TgZ(4,"ul",2)(5,"li",3)(6,"div",4)(7,"div",5),e._UZ(8,"i",6),e.TgZ(9,"p",7),e._uU(10,"Wish to open booking ?"),e.qZA()(),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return t.onBlockSelected()}),e._uU(13," Unblock "),e.qZA()()()()()()),2&r&&(e.xp6(2),e.hij("Open Booking on - ",e.lcZ(3,1,t.blockDay),""))},dependencies:[H]})}return n})();function Tt(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"app-selected-day",8),e.NdJ("onCancel",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onCancelled(t))}),e.qZA()()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("booking",o.selectedShowDay)}}function Ct(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"app-block-day",9),e.NdJ("onBlock",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onBlocked(t))}),e.qZA()()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("blockDay",o.selectedBlockDay)}}function At(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"app-unblock-day",10),e.NdJ("onUnBlock",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.onUnBlocked(t))}),e.qZA()()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("blockDay",o.selectedBlockDay)}}function qt(n,s){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"ul",12)(3,"li",13)(4,"div",14)(5,"div",15),e._UZ(6,"img",16),e.TgZ(7,"h1",17),e._uU(8,"Select any date that you wish to check."),e.qZA()()()()()()())}let Ut=(()=>{class n{constructor(o,r){this.store=o,this.workerService=r,this.bookings$=[],this.showDay=!0,this.blockDay=!0,this.unBlockDay=!0,this.workerId=""}ngOnInit(){this.store.pipe((0,g.Ys)(L)).pipe((0,_.q)(1)).subscribe(o=>{this.worker=o,this.workerId=o._id,this.worker._id&&this.workerService.getAllBooking(this.worker._id).pipe((0,_.q)(1)).subscribe(r=>{this.bookings$=r})})}newBookings(){return this.bookings$.filter(o=>{const r=new Date(o.bookingTime),t=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),r>=t})}workerBlockedDates(){return this.worker.blockedDates}oldBooking(){return this.bookings$.filter(o=>{const r=new Date(o.bookingTime),t=new Date;return r.setHours(0,0,0,0),t.setHours(0,0,0,0),r>=t})}blockBooking(o){this.worker.blockedDates&&(this.worker.blockedDates.some(t=>{const l=new Date(t);return l.setHours(0,0,0,0),l.getTime()===o.getTime()})?(this.unBlockDay=!1,this.blockDay=!0,this.showDay=!0):(this.blockDay=!1,this.showDay=!0,this.unBlockDay=!0),this.selectedBlockDay=o)}showBooking(o){const r=this.bookings$.filter(t=>new Date(t.bookingTime).toDateString()===o.toDateString());this.selectedShowDay=r[0],this.showDay=!1,this.blockDay=!0,this.unBlockDay=!0}onCancelled(o){this.workerService.bookingCancel(o).pipe((0,_.q)(1)).subscribe(r=>{this.worker._id&&this.workerService.getAllBooking(this.worker._id).pipe((0,_.q)(1)).subscribe(t=>{this.bookings$=t,this.showDay=!0,this.blockDay=!0,this.unBlockDay=!0})})}onBlocked(o){this.store.dispatch((0,c.JF)({workerId:this.workerId,blockDate:o})),this.showDay=!0,this.blockDay=!0,this.unBlockDay=!0}onUnBlocked(o){this.store.dispatch((0,c.Q9)({workerId:this.workerId,blockDate:o})),this.showDay=!0,this.blockDay=!0,this.unBlockDay=!0}nearestBooking(){return this.newBookings().sort((r,t)=>new Date(r.bookingTime)-new Date(t.bookingTime))}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(g.yh),e.Y36(T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule"]],decls:15,vars:7,consts:[[1,"grid","grid-cols-1","md:grid-cols-2","h-fit"],[1,"sm:mx-10"],[3,"bookings","blockedDates","onUnBlockBooking","onBlockBooking","onShowBooking"],[4,"ngIf"],[1,"flex","mx-10","justify-center","items-center"],["src","../../../../../assets/images/3870277-removebg-preview.png","alt","nochat",1,"h-40"],[1,"text-5xl","font-schedule"],[3,"bookings"],[3,"booking","onCancel"],[3,"blockDay","onBlock"],[3,"blockDay","onUnBlock"],[1,"first-letter:","rounded-xl","border","bg-white","px-6","py-2","text-gray-900","mt-3","mx-10"],[1,"max-w-md","divide-y","divide-gray-200"],[1,""],[1,"flex","items-center","justify-evenly","space-x-4","rtl:space-x-reverse","py-1"],[1,"flex","text-center","items-center"],["src","../../../../../assets/images/5556.jpg","alt","nochat",1,"h-24"],[1,"text-2xl","font-schedule"]],template:function(r,t){1&r&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"app-worker-calender",2),e.NdJ("onUnBlockBooking",function(a){return t.blockBooking(a)})("onBlockBooking",function(a){return t.blockBooking(a)})("onShowBooking",function(a){return t.showBooking(a)}),e.qZA()(),e.TgZ(4,"div")(5,"div"),e.YNc(6,Tt,2,1,"div",3),e.YNc(7,Ct,2,1,"div",3),e.YNc(8,At,2,1,"div",3),e.YNc(9,qt,9,0,"div",3),e.qZA(),e.TgZ(10,"div",4),e._UZ(11,"img",5),e.TgZ(12,"h1",6),e._uU(13,"Schedule Your Bookings"),e.qZA()(),e._UZ(14,"app-current-booking-box",7),e.qZA()()),2&r&&(e.xp6(3),e.Q6J("bookings",t.newBookings())("blockedDates",t.workerBlockedDates()),e.xp6(3),e.Q6J("ngIf",!t.showDay),e.xp6(1),e.Q6J("ngIf",!t.blockDay),e.xp6(1),e.Q6J("ngIf",!t.unBlockDay),e.xp6(1),e.Q6J("ngIf",t.showDay&&t.blockDay&&t.unBlockDay),e.xp6(5),e.Q6J("bookings",t.nearestBooking()))},dependencies:[m.O5,E,ft,wt,vt,yt,Zt]})}return n})(),Bt=(()=>{class n{transform(o,r){if(o){const t=Math.floor((+new Date-+new Date(o))/1e3);if(t<29)return"Just now";const l={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let a;for(const d in l)if(a=Math.floor(t/l[d]),a>0)return 1===a?a+" "+d+" ago":a+" "+d+"s ago"}return o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=e.Yjl({name:"dateAgo",type:n,pure:!0})}return n})();const Dt=["scrollMe"];function Nt(n,s){if(1&n&&(e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"div",24),e.TgZ(3,"div",25)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"div",27),e._uU(7),e.ALo(8,"dateAgo"),e.qZA()()()()),2&n){const o=e.oxw().$implicit;e.xp6(5),e.hij(" ",o.content," "),e.xp6(2),e.hij(" ",e.lcZ(8,2,o.date)," ")}}function It(n,s){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._UZ(2,"div",24),e.TgZ(3,"div",30)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"div",31),e._uU(7),e.ALo(8,"dateAgo"),e.qZA()()()()),2&n){const o=e.oxw().$implicit;e.xp6(5),e.hij(" ",o.content," "),e.xp6(2),e.hij(" ",e.lcZ(8,2,o.date)," ")}}function St(n,s){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,Nt,9,4,"div",20),e.YNc(2,It,9,4,"div",21),e.qZA()),2&n){const o=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.senderId==r.senderId),e.xp6(1),e.Q6J("ngIf",o.senderId!=r.senderId)}}function Jt(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"h1",4),e._uU(4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6,7)(8,"div",8),e.YNc(9,St,3,2,"div",9),e.qZA()()(),e.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"input",13),e.NdJ("ngModelChange",function(t){e.CHM(o);const l=e.oxw();return e.KtG(l.text=t)})("keyup.enter",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.sendMessage(t.text))}),e.qZA()()(),e.TgZ(14,"div",14)(15,"button",15),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.sendMessage(t.text))}),e.TgZ(16,"span"),e._uU(17,"Send"),e.qZA(),e.TgZ(18,"span",16),e.O4$(),e.TgZ(19,"svg",17),e._UZ(20,"path",18),e.qZA()()()()()()()}if(2&n){const o=e.oxw();e.xp6(4),e.Oqu(o.name),e.xp6(5),e.Q6J("ngForOf",o.chats),e.xp6(4),e.Q6J("ngModel",o.text)}}function Ft(n,s){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"img",33),e.TgZ(2,"p",34),e._uU(3,"You can send and Receive messages"),e.qZA(),e.TgZ(4,"p",35),e._uU(5,"Please select a Chat"),e.qZA()())}let Ot=(()=>{class n{constructor(o){this.workerService=o,this.text="",this.chats=[],this.socket=(0,ae.io)("http://localhost:3000"),this.socket.on("connect",()=>{}),this.workerService.onNewMessage().subscribe(r=>{this.chats.push(r)})}ngOnInit(){({senderId:this.senderId,receiverId:this.receiverId,name:this.name}=this.data),this.data.senderId&&this.workerService.loadChats(this.senderId,this.receiverId).subscribe(o=>{o.chats&&(this.chats=o.chats)})}ngAfterViewInit(){this.scrollToBottom()}ngOnChanges(o){o.data&&this.ngOnInit()}sendMessage(o){const r=o.trim();""!==r&&this.workerService.sendChat({senderId:this.receiverId,receiverId:this.senderId,content:r}).subscribe(l=>{this.text="",console.log("dadad"),this.scrollToBottom()})}scrollToBottom(){console.log("scroll"),this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-chat-box"]],viewQuery:function(r,t){if(1&r&&e.Gf(Dt,5),2&r){let l;e.iGM(l=e.CRH())&&(t.myScrollContainer=l.first)}},inputs:{data:"data"},features:[e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noChat",""],[1,"flex","flex-col","flex-auto","px-2"],[1,"h-14","rounded-tr-2xl","bg-[#0a2e36]"],[1,"ml-10","py-3","text-white","text-lg"],[1,"flex","flex-col","flex-auto","flex-shrink-0","bg-[#ffffff]","w-full","h-[380px]","p-4"],[1,"flex","flex-col","h-full","overflow-x-auto","mb-4"],["scrollMe",""],[1,"flex","flex-col","h-full"],["class","grid grid-cols-12 gap-y-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","items-center","h-16","rounded-br-xl","bg-[#0a2e36]","w-full","px-4"],[1,"flex-grow","ml-4"],[1,"relative","w-full"],["type","text",1,"flex","w-full","border","rounded-full","focus:outline-none","focus:border-indigo-300","pl-4","h-10",3,"ngModel","ngModelChange","keyup.enter"],[1,"ml-4"],[1,"flex","items-center","justify-center","bg-[#058c42]","hover:bg-[#319177]","rounded-xl","text-white","px-4","py-1","flex-shrink-0",3,"click"],[1,"ml-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","transform","rotate-45","-mt-px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"grid","grid-cols-12","gap-y-2"],["class","col-start-1 col-end-8 p-3 rounded-lg",4,"ngIf"],["class","col-start-6 col-end-13 p-3 rounded-lg",4,"ngIf"],[1,"col-start-1","col-end-8","p-3","rounded-lg"],[1,"flex","flex-row","items-center"],[1,"flex","items-center","justify-center","h-10","w-10","rounded-full","bg-[#319177]","flex-shrink-0"],[1,"relative","ml-3","text-sm","bg-indigo-100","py-2","shadow","rounded-xl"],[1,"px-4"],[1,"absolute","text-[10px]","bottom-0","w-20","left-0","-mb-5","text-gray-500"],[1,"col-start-6","col-end-13","p-3","rounded-lg"],[1,"flex","items-center","justify-start","flex-row-reverse"],[1,"relative","mr-3","text-sm","bg-indigo-100","py-2","shadow","rounded-xl"],[1,"absolute","text-[10px]","bottom-0","w-20","right-0","-mb-5","text-gray-500"],[1,"ml-56","items-center"],["src","../../../../../assets/images/4318690-removebg-preview.png","alt","nochat",1,"h-96"],[1,"text-xl","text-center","text-white"],[1,"text-lg","text-center","text-white"]],template:function(r,t){if(1&r&&(e.YNc(0,Jt,21,3,"div",0),e.YNc(1,Ft,6,0,"ng-template",null,1,e.W1O)),2&r){const l=e.MAs(2);e.Q6J("ngIf",t.chats.length>0)("ngIfElse",l)}},dependencies:[m.sg,m.O5,i.Fj,i.JJ,i.On,Bt]})}return n})();function $t(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"button",11),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onChatSelect(l.senderId,l.receiverId,l.userName))}),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"slice"),e.qZA(),e.TgZ(6,"div",13),e._uU(7),e.qZA()()()}if(2&n){const o=s.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,e.Dn7(5,4,o.userName,0,1))," "),e.xp6(4),e.Oqu(o.userName)}}const Mt=[{path:"",component:Ze,canActivate:[P]},{path:"auth",component:he,children:[{path:"login",component:Ae},{path:"signup",component:Me},{path:"otp",component:He}]},{path:"profile",component:Ye,canActivate:[P]},{path:"bookings",component:pt,canActivate:[P]},{path:"schedule",component:Ut,canActivate:[P]},{path:"messages",component:(()=>{class n{constructor(o,r){this.workerService=o,this.store=r,this.chatRooms=[],this.data={senderId:"",receiverId:"",name:""}}ngOnInit(){this.store.select(L).subscribe(o=>{this.worker=o,this.worker._id&&this.workerService.loadChatMates(this.worker._id).subscribe(r=>{r.chatRooms&&(this.chatRooms=r.chatRooms)})})}onChatSelect(o,r,t){this.data={senderId:o,receiverId:r,name:t}}chatData(){return this.data}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-messages"]],decls:14,vars:3,consts:[[1,"flex","h-fit","text-gray-800"],[1,"grid","grid-cols-3","h-fit","md:mx-10","lg:mx-20","w-full"],[1,"flex","flex-col","mx-2","rounded-xl","h-[500px]","py-8","px-6","md:w-60","lg:w-96","bg-[#0a2e36]","text-white","flex-shrink-0"],[1,"flex","flex-col"],[1,"flex","flex-row","items-center","justify-between","text-xs"],[1,"font-bold"],[1,"flex","items-center","justify-center","bg-green-800","h-4","w-4","rounded-full"],[1,"flex","flex-col","space-y-1","mt-4","-mx-2","h-full","overflow-y-auto"],[4,"ngFor","ngForOf"],[1,"col-span-2","justify-start"],[3,"data"],[1,"flex","flex-row","w-full","items-center","hover:bg-[#058c42]","rounded-xl","lg:p-5",3,"click"],[1,"flex","items-center","justify-center","h-8","w-8","bg-gray-900","rounded-full"],[1,"mx-5","text-sm","font-semibold"]],template:function(r,t){1&r&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),e._uU(7,"Active Conversations"),e.qZA(),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7),e.YNc(11,$t,8,8,"div",8),e.qZA()()(),e.TgZ(12,"div",9),e._UZ(13,"app-chat-box",10),e.qZA()()()),2&r&&(e.xp6(9),e.Oqu(t.chatRooms.length),e.xp6(2),e.Q6J("ngForOf",t.chatRooms),e.xp6(2),e.Q6J("data",t.chatData()))},dependencies:[m.sg,E,Ot,m.gd,m.OU]})}return n})(),canActivate:[P]}];let Qt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(Mt),v.Bz]})}return n})();const fe={token:"",errorMessage:void 0},Wt=(0,g.Lq)(fe,(0,g.on)(c.tb,(n,{token:s,workerData:o})=>({...n,token:s,workerData:o,errorMessage:void 0})),(0,g.on)(c.SH,(n,{workerData:s})=>(console.log("edir pro",s),{...n,workerData:s,errorMessage:void 0})),(0,g.on)(c.cE,(n,{token:s,workerData:o})=>({...n,token:s,errorMessage:void 0,workerData:o})),(0,g.on)(c.uD,(n,{workerData:s})=>({...n,...s,errorMessage:void 0})),(0,g.on)(c.Kn,(n,{error:s})=>({...n,token:" ",errorMessage:s.error.message})),(0,g.on)(c.iq,(n,{workerData:s})=>({...n,...s,errorMessage:void 0})),(0,g.on)(c.sN,(n,{error:s})=>({...n,UserToken:" ",errorMessage:s.error.message})),(0,g.on)(c.IV,(n,{workerToken:s})=>({...n,UserToken:s,errorMessage:void 0})),(0,g.on)(c.YC,(n,{error:s})=>({...n,UserToken:" ",errorMessage:s.error.message})),(0,g.on)(c.f0,(n,{workerData:s})=>(console.log("success"),{...n,workerData:s,errorMessage:void 0})));function Lt(n=fe,s){return Wt(n,s)}var f=h(7483),Y=h(4664),j=h(7398),ne=h(6306),A=h(9397),re=h(2096);let Ht=(()=>{class n{constructor(o,r,t,l){this.actions$=o,this.workerAuthService=r,this.workerService=t,this.router=l,this.login$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.xI),(0,Y.w)(({credentials:a})=>this.workerAuthService.login(a).pipe((0,j.U)(d=>{console.log(d);let u=d;return u.token?(localStorage.setItem("worker-token",u.token),localStorage.setItem("worker-data",JSON.stringify(u.workerData)),console.log("in side effect LS",u),(0,c.cE)({token:u.token,workerData:u.workerData})):"pending"==u.status?(console.log(u),(0,c.uD)({workerData:u})):(console.log("in side effect LE",u),(0,c.Kn)({error:u.error.error}))}),(0,ne.K)(d=>(0,re.of)((0,c.Kn)({error:d}))))))),this.loginPending$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.uD),(0,A.b)(()=>{this.router.navigate(["/worker/auth/otp"])})),{dispatch:!1}),this.loginSuccess$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.cE),(0,A.b)(()=>{this.router.navigate(["/worker"])})),{dispatch:!1}),this.loginFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.Kn),(0,A.b)(()=>{this.router.navigate(["/worker/auth/login"])})),{dispatch:!1}),this.signup$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.IT),(0,Y.w)(({worker:a})=>this.workerAuthService.signup(a).pipe((0,j.U)(d=>{let u=d;return"success"==u.status?(0,c.iq)({workerData:u}):(0,c.sN)({error:u.error.error})}),(0,ne.K)(d=>(0,re.of)((0,c.sN)({error:d}))))))),this.signupSuccess$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.iq),(0,A.b)(()=>{this.router.navigate(["/worker/auth/otp"])})),{dispatch:!1}),this.signupFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.sN),(0,A.b)(()=>{console.log("signup failure"),this.router.navigate(["/worker/auth/signup"])})),{dispatch:!1}),this.verify$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.Vi),(0,Y.w)(({worker:a})=>this.workerAuthService.verifySignupOtp(a).pipe((0,j.U)(d=>{let u=d;return"success"==u.status?(console.log("verify req",u),localStorage.setItem("worker-token",u.token),localStorage.setItem("worker-data",JSON.stringify(u.workerData)),(0,c.cE)({token:u.token,workerData:u.workerData})):(console.log("in side effect LE",u),(0,c.sN)({error:u.error}))}),(0,ne.K)(d=>(0,re.of)((0,c.sN)({error:d}))))))),this.verifySuccess$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.IV),(0,A.b)(()=>{console.log("otp verify success"),this.router.navigate(["/worker/"])})),{dispatch:!1}),this.verifyFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.sN),(0,A.b)(()=>{console.log("otp verify failure"),this.router.navigate(["/worker/auth/otp"])})),{dispatch:!1}),this.block$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.JF),(0,Y.w)(({workerId:a,blockDate:d})=>this.workerService.blockBooking(a,d).pipe((0,j.U)(u=>{let p=u;return"success"==p.status?(console.log("verify req",p.workerData),localStorage.setItem("worker-data",JSON.stringify(p.workerData)),(0,c.f0)({workerData:p.workerData})):(console.log("in side effect LE",p),p)}))))),this.unblock$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.Q9),(0,Y.w)(({workerId:a,blockDate:d})=>this.workerService.unBlockBooking(a,d).pipe((0,j.U)(u=>{let p=u;return"success"==p.status?(console.log("verify req",p.workerData),localStorage.setItem("worker-data",JSON.stringify(p.workerData)),(0,c.f0)({workerData:p.workerData})):(console.log("in side effect LE",p),p)}))))),this.blockSuccess$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.IV),(0,A.b)(()=>{console.log("block success"),this.router.navigate(["/worker/schedule"])})),{dispatch:!1}),this.update$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.DQ),(0,Y.w)(({workerId:a,worker:d})=>this.workerService.updateProfile(a,d).pipe((0,j.U)(u=>{let p=u;return console.log("effect U"),console.log(p),"success"==p.status?(console.log(p.workerData),localStorage.setItem("worker-data",JSON.stringify(p.workerData)),(0,c.SH)({workerData:p.workerData})):(console.log("in side effect LE",p),p)}))))),this.updateSuccess$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(c.SH),(0,A.b)(()=>{console.log("sucess"),this.router.navigate(["/worker"])})),{dispatch:!1})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(f.eX),e.LFG(z),e.LFG(T),e.LFG(v.F0))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var Yt=h(3552);let jt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[Qt,m.ez,i.UX,i.u5,g.Aw.forFeature("worker",Lt),f.sQ.forFeature(Ht),me.Xz,Yt.Z,ue.C]})}return n})()}}]);